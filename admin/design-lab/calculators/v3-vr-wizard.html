<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VR Calculator v3 - Wizard (Journey)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              brand: {
                navy: '#010079',
                gold: '#D5AD36',
                interactive: '#1B73D3',
                bg: '#f8fafc',
              }
            }
          }
        }
      }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;800;900&family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { --nav-height: 60px; }
        body { background-color: #f8fafc; font-family: 'Noto Sans KR', sans-serif; color: #334155; }
        .orbitron { font-family: 'Orbitron', sans-serif; }

        /* Nav (1-Tier EDGY) */
        .nav-edgy {
            height: var(--nav-height);
            background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(12px);
            border-bottom: 2px solid transparent;
            background-image: linear-gradient(white, white), linear-gradient(90deg, #010079 0%, #D5AD36 50%, #010079 100%);
            background-origin: border-box; background-clip: padding-box, border-box;
            display: flex; justify-content: space-between; align-items: center; padding: 0 1.5rem;
        }

        /* Wizard Steps */
        .step-container { max-width: 800px; margin: 0 auto; padding: 2rem 1rem; }
        
        .progress-bar { display: flex; justify-content: space-between; margin-bottom: 3rem; position: relative; }
        .progress-line { position: absolute; top: 50%; left: 0; right: 0; height: 2px; background: #e2e8f0; z-index: 0; transform: translateY(-50%); }
        .progress-fill { position: absolute; top: 50%; left: 0; height: 2px; background: #010079; z-index: 0; transform: translateY(-50%); width: 0%; transition: width 0.3s; }
        .step-dot {
            width: 40px; height: 40px; background: white; border: 2px solid #e2e8f0; border-radius: 50%;
            display: flex; align-items: center; justify-content: center; font-weight: bold; color: #cbd5e1;
            position: relative; z-index: 1; transition: all 0.3s;
        }
        .step-dot.active { border-color: #010079; color: #010079; box-shadow: 0 0 0 4px rgba(1,0,121,0.1); }
        .step-dot.completed { background: #010079; border-color: #010079; color: white; }
        .step-label { position: absolute; top: 45px; left: 50%; transform: translateX(-50%); white-space: nowrap; font-size: 0.75rem; font-weight: 700; color: #94a3b8; }
        .step-dot.active .step-label { color: #010079; }

        /* Step Content */
        .step-content { display: none; animation: fadeIn 0.3s ease-out; }
        .step-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Step 1 Cards */
        .select-card {
            background: white; border: 2px solid #e2e8f0; border-radius: 16px; padding: 2rem; text-align: center; cursor: pointer; transition: all 0.2s;
        }
        .select-card:hover { border-color: #1B73D3; transform: translateY(-2px); box-shadow: 0 10px 20px rgba(0,0,0,0.05); }
        .select-card.selected { border-color: #010079; background: #f0f9ff; ring: 2px solid #010079; }

        /* Step 2 Form */
        .wizard-input-group { margin-bottom: 1.5rem; }
        .wizard-label { display: block; font-size: 0.875rem; font-weight: 700; color: #475569; margin-bottom: 0.5rem; }
        .wizard-input {
            width: 100%; padding: 1rem; font-size: 1.125rem; border: 2px solid #e2e8f0; border-radius: 12px;
            transition: all 0.2s; background: white;
        }
        .wizard-input:focus { border-color: #010079; outline: none; }

        /* Step 3 Ticket */
        .action-ticket {
            background: white; border-radius: 20px; box-shadow: 0 20px 50px rgba(0,0,0,0.1); overflow: hidden;
            position: relative; max-width: 500px; margin: 0 auto;
        }
        .ticket-header { background: #010079; padding: 2rem; text-align: center; color: white; }
        .ticket-body { padding: 2rem; }
        .ticket-cutout {
            position: absolute; top: 110px; left: 0; right: 0; height: 20px;
            background-image: radial-gradient(circle at 0 10px, transparent 10px, white 11px), radial-gradient(circle at 100% 10px, transparent 10px, white 11px);
            background-position: left bottom, right bottom; background-repeat: no-repeat; background-size: 50% 100%;
        }
        .ticket-divider { border-top: 2px dashed #e2e8f0; margin: 1.5rem 0; position: relative; top: -10px; }

        /* Buttons */
        .nav-btn {
            padding: 1rem 2rem; border-radius: 12px; font-weight: 700; font-size: 1rem; transition: all 0.2s;
        }
        .btn-next { background: #010079; color: white; }
        .btn-next:hover { background: #1B73D3; shadow: 0 4px 12px rgba(1,0,121,0.3); }
        .btn-prev { background: #f1f5f9; color: #64748b; }
        .btn-prev:hover { background: #e2e8f0; }

    </style>
</head>
<body>

    <nav class="nav-edgy">
         <div class="flex items-center gap-3">
            <span class="font-[900] orbitron text-slate-800 text-lg">100x <span class="text-brand-gold">FENOK</span></span>
        </div>
        <div class="font-bold text-slate-400 text-sm tracking-widest uppercase">
            VR Wizard
        </div>
    </nav>

    <div class="step-container">
        
        <!-- Progress -->
        <div class="progress-bar">
            <div class="progress-line"></div>
            <div class="progress-fill" id="progressFill" style="width: 0%"></div>
            
            <div class="step-dot active" data-step="1">1 <div class="step-label">Mode</div></div>
            <div class="step-dot" data-step="2">2 <div class="step-label">Input</div></div>
            <div class="step-dot" data-step="3">3 <div class="step-label">Action</div></div>
        </div>

        <!-- Step 1: Select Mode -->
        <div id="step1" class="step-content active">
            <h2 class="text-2xl font-bold text-center text-slate-800 mb-8">Choose Strategy Mode</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="select-card" onclick="selectMode(this, 'Accumulation')">
                    <div class="text-4xl mb-4">üå±</div>
                    <h3 class="font-bold text-lg mb-2">Accumulation</h3>
                    <p class="text-sm text-slate-500">Deposit periodically to grow your asset pool.</p>
                </div>
                <div class="select-card selected" onclick="selectMode(this, 'Lump-sum')">
                    <div class="text-4xl mb-4">üå≥</div>
                    <h3 class="font-bold text-lg mb-2">Lump-sum</h3>
                    <p class="text-sm text-slate-500">Optimized for large initial capital holding.</p>
                </div>
                <div class="select-card" onclick="selectMode(this, 'Withdrawal')">
                    <div class="text-4xl mb-4">üçé</div>
                    <h3 class="font-bold text-lg mb-2">Withdrawal</h3>
                    <p class="text-sm text-slate-500">Generate cash flow for living expenses.</p>
                </div>
            </div>
            <div class="text-center">
                <button class="nav-btn btn-next" onclick="nextStep(2)">Next: Input Data <i class="fas fa-arrow-right ml-2"></i></button>
            </div>
        </div>

        <!-- Step 2: Input Data -->
        <div id="step2" class="step-content">
            <h2 class="text-2xl font-bold text-center text-slate-800 mb-2">Current Status</h2>
            <p class="text-center text-slate-500 mb-8">Enter your latest portfolio details.</p>
            
            <div class="bg-white p-8 rounded-2xl shadow-sm border border-slate-200 max-w-2xl mx-auto mb-8">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="wizard-input-group">
                        <label class="wizard-label">Previous V ($V_1$)</label>
                        <input type="number" class="wizard-input" value="18300">
                    </div>
                    <div class="wizard-input-group">
                        <label class="wizard-label">Current Pool ($)</label>
                        <input type="number" class="wizard-input" value="2000">
                    </div>
                    <div class="wizard-input-group">
                        <label class="wizard-label">Gradient (G)</label>
                        <input type="number" class="wizard-input" value="10">
                    </div>
                    <div class="wizard-input-group">
                         <label class="wizard-label">Shares Held</label>
                        <input type="number" class="wizard-input" value="300">
                    </div>
                </div>
                
                <div class="bg-blue-50 p-4 rounded-xl border border-blue-100 mt-2 flex items-center justify-between">
                    <div>
                        <p class="text-xs font-bold text-blue-800 uppercase">Live Data</p>
                        <p class="font-bold text-slate-800">TQQQ: $62.00</p>
                    </div>
                    <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
                </div>
            </div>

            <div class="flex justify-center gap-4">
                <button class="nav-btn btn-prev" onclick="nextStep(1)">Back</button>
                <button class="nav-btn btn-next" onclick="nextStep(3)">Generate Plan <i class="fas fa-check ml-2"></i></button>
            </div>
        </div>

        <!-- Step 3: Result Ticket -->
        <div id="step3" class="step-content">
            <h2 class="text-2xl font-bold text-center text-slate-800 mb-8">Your Action Plan</h2>

            <div class="action-ticket">
                <div class="ticket-header">
                    <p class="text-sm opacity-80 uppercase tracking-widest mb-1">VR Cycle #24</p>
                    <h3 class="text-4xl font-black orbitron">$19,450</h3>
                    <p class="text-sm font-bold opacity-90 mt-1">Target V-Value ($V_2$)</p>
                </div>
                <div class="ticket-cutout"></div>
                <div class="ticket-body">
                    
                    <div class="flex justify-between items-center mb-6">
                        <div>
                            <p class="text-xs font-bold text-slate-400 uppercase">Pool Reserve</p>
                            <p class="font-bold text-slate-800 text-lg">$2,000</p>
                        </div>
                        <div class="text-right">
                             <p class="text-xs font-bold text-slate-400 uppercase">Status</p>
                            <span class="inline-block px-2 py-1 bg-green-100 text-green-700 text-xs font-bold rounded">Balanced</span>
                        </div>
                    </div>

                    <div class="ticket-divider"></div>

                    <h4 class="font-bold text-slate-700 mb-4 text-center">ORDER INSTRUCTIONS</h4>
                    
                    <div class="space-y-3">
                        <div class="flex justify-between items-center p-3 bg-red-50 rounded-lg border border-red-100">
                            <span class="font-bold text-red-700">SELL 1 Qty</span>
                            <span class="font-mono font-bold text-slate-800">Limit: $74.50</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-red-50 rounded-lg border border-red-100">
                            <span class="font-bold text-red-700">SELL 1 Qty</span>
                            <span class="font-mono font-bold text-slate-800">Limit: $78.20</span>
                        </div>
                        
                        <div class="text-center text-xs text-slate-400 py-1">- Current Price $62.00 -</div>

                        <div class="flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-100">
                            <span class="font-bold text-green-700">BUY 1 Qty</span>
                            <span class="font-mono font-bold text-slate-800">Limit: $55.10</span>
                        </div>
                         <div class="flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-100">
                            <span class="font-bold text-green-700">BUY 1 Qty</span>
                            <span class="font-mono font-bold text-slate-800">Limit: $52.40</span>
                        </div>
                    </div>

                    <div class="mt-8 text-center">
                        <button class="w-full py-3 bg-slate-800 text-white font-bold rounded-xl shadow-lg hover:bg-slate-700 transition-colors" onclick="alert('Sent to Broker (Simulation)')">
                            <i class="fas fa-paper-plane mr-2"></i> Execute Orders
                        </button>
                        <button class="mt-4 text-sm text-slate-400 hover:text-slate-600 font-bold" onclick="nextStep(1)">Start Over</button>
                    </div>

                </div>
            </div>

        </div>

    </div>

    <script>
        function selectMode(el, mode) {
            document.querySelectorAll('.select-card').forEach(c => c.classList.remove('selected'));
            el.classList.add('selected');
        }

        function nextStep(step) {
            // Hide all
            document.querySelectorAll('.step-content').forEach(c => c.classList.remove('active'));
            // Show target
            document.getElementById(`step${step}`).classList.add('active');
            
            // Update Progress
            const fill = document.getElementById('progressFill');
            const dots = document.querySelectorAll('.step-dot');
            
            if(step === 1) fill.style.width = '0%';
            if(step === 2) fill.style.width = '50%';
            if(step === 3) fill.style.width = '100%';

            dots.forEach(d => {
                const s = parseInt(d.dataset.step);
                d.classList.remove('active', 'completed');
                if(s < step) d.classList.add('completed');
                if(s === step) d.classList.add('active');
            });
        }
    </script>
</body>
</html>
