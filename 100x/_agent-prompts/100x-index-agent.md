# 100x Daily Wrap 목록 페이지 업데이트 가이드 (v2.0)

## 1. 개요 (Overview)

이 문서는 새로운 `100x Daily Wrap` 리포트가 생성될 때마다, 관련 데이터 파일을 업데이트하는 LLM 에이전트를 위한 공식 가이드입니다.

**새로운 아키텍처의 핵심**은 `100x-main.html` 파일을 직접 수정하는 대신, 데이터만 관리하는 것입니다. 에이전트의 임무는 다음과 같습니다.

1.  신규 리포트의 정보를 추출하여 **개별 메타데이터 JSON 파일**을 새로 생성합니다.
2.  모든 리포트의 목록인 **마스터 인덱스 JSON 파일**을 업데이트합니다.

이 두 파일만 올바르게 생성하면, `100x-main.html` 페이지는 자동으로 최신 리포트 목록을 사용자에게 보여줍니다.

**[v2.0 주요 변경사항]**
- **아키텍처 변경**: HTML 파일을 직접 수정하는 방식에서, **'개별 메타데이터 + 마스터 인덱스'** JSON 파일을 관리하는 방식으로 시스템을 전면 개편했습니다.
- **워크플로우 변경**: 에이전트의 역할이 HTML 코드 생성에서 **JSON 데이터 파일 생성 및 업데이트**로 명확하게 변경되었습니다.
- **산출물 변경**: 에이전트의 최종 결과물은 더 이상 `100x-main.html` 코드가 아니며, **2개의 JSON 파일**입니다.

## 2. 핵심 원칙 (Core Principles)

1.  **데이터 무결성 (Data Integrity):** 신규 리포트에서 추출하는 모든 정보(날짜, 제목, 요약, 키워드)는 정확해야 하며, JSON 형식 규칙을 완벽하게 준수해야 합니다.
2.  **파일 경로 일관성 (Path Consistency):** 생성되는 모든 파일 경로는 **'4. 파일 구조 및 산출물'** 섹션에 정의된 규칙을 따라야 합니다.
3.  **역순 정렬 (Reverse Chronological Order):** 마스터 인덱스 파일은 항상 가장 최신 리포트가 목록의 맨 위에 오도록 유지해야 합니다.
4.  **`100x-main.html` 불변성 (Immutability of `100x-main.html`):** 에이전트는 **절대 `100x-main.html` 파일을 수정하지 않습니다.**

## 3. 업데이트 워크플로우 (Update Workflow)

에이전트는 새로운 리포트가 도착할 때마다 아래 4단계 워크플로우를 엄격히 따라야 합니다.

#### **1단계: 신규 리포트 분석 (Parse New Report)**
-   제공된 최신 `100x Daily Wrap` HTML 파일(예: `2025-07-17_100x-daily-wrap.html`)의 내용을 분석합니다.
-   **'5. 메타데이터 추출 및 JSON 생성 규칙'**에 따라 리포트의 날짜, 제목, 요약, 키워드, 파일 경로 정보를 정확히 추출합니다.

#### **2단계: 신규 메타데이터 JSON 파일 생성 (Create New Metadata JSON)**
-   1단계에서 추출한 정보를 사용하여 **새로운 개별 메타데이터 JSON 파일**을 생성합니다.
-   파일명은 `YYYY-MM-DD.json` 형식이어야 합니다. (예: `2025-07-17.json`)

#### **3단계: 마스터 인덱스 업데이트 (Update Master Index)**
-   기존 `data/reports-index.json` 파일을 읽습니다.
-   파일 내용(JSON 배열)의 **가장 맨 앞에** 2단계에서 생성한 새 메타데이터 파일의 이름(예: `"2025-07-17.json"`)을 추가합니다.
-   업데이트된 배열을 포함하는 `reports-index.json` 파일을 생성합니다.

#### **4단계: 최종 산출물 제출 (Submit Final Deliverables)**
-   아래 두 개의 파일을 최종 결과물로 제출합니다.
    1.  새로 생성된 **개별 메타데이터 JSON 파일** (예: `2025-07-17.json`)
    2.  업데이트된 **마스터 인덱스 JSON 파일** (`reports-index.json`)

## 4. 파일 구조 및 산출물 (File Structure & Deliverables)

-   **개별 메타데이터 파일 경로:** `data/metadata/YYYY-MM-DD.json`
-   **마스터 인덱스 파일 경로:** `data/reports-index.json`

## 5. 메타데이터 추출 및 JSON 생성 규칙

신규 리포트 파일에서 아래 규칙에 따라 정보를 추출하여 **개별 메타데이터 JSON** 파일을 생성합니다.

-   **`date`**: `<p class="text-lg text-slate-500 ...">` 태그에서 "YYYY년 MM월 DD일 (요일)" 형식의 전체 텍스트를 추출합니다.
-   **`title`**: 리포트 `<header>` 내부의 핵심 논점 `<p>` 태그 내용을 기반으로 자연스러운 제목을 생성합니다.
-   **`summary`**: `title`과 동일한 `<p>` 태그 내용을 100~150자 내외로 자연스럽게 요약합니다. 비어있어도 무방합니다.
-   **`keywords`**: 요약된 내용을 바탕으로 가장 핵심적인 주제 3~4개를 추출하여 배열로 만듭니다. 각 키워드는 `name`과 `color` 속성을 가집니다. 색상은 내용에 따라 `red`, `green`, `blue`, `yellow`, `purple` 중에서 선택합니다.
-   **`path`**: `index.html?path=100x/daily-wrap/YYYY-MM-DD_100x-daily-wrap.html` 형식으로 리포트의 전체 경로를 생성합니다.

**JSON 파일 생성 예시 (`data/metadata/2025-07-17.json`):**

```json
{
  "date": "2025년 07월 17일 (목요일)",
  "title": "새로운 관세 정책이 시장에 미치는 영향 분석",
  "summary": "새로운 관세 정책 발표 이후, 시장은 단기적인 변동성을 보였으나 장기적인 펀더멘털은 여전히 견고합니다. 특히 기술주와 금융주를 중심으로 반등의 기미가 보이고 있습니다.",
  "keywords": [
    { "name": "관세 정책", "color": "red" },
    { "name": "시장 변동성", "color": "yellow" },
    { "name": "기술주", "color": "green" }
  ],
  "path": "index.html?path=100x/daily-wrap/2025-07-17_100x-daily-wrap.html"
}
```
