<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shadcn UI ì»´í¬ë„ŒíŠ¸ ë¬´ê²°ì„± í…ŒìŠ¤íŠ¸</title>

    <!-- ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼ -->
    <link rel="stylesheet" href="./components/ui/styles.css">

    <style>
        body {
            font-family: var(--font-sans);
            margin: 0;
            padding: 20px;
            background-color: hsl(var(--background));
            color: hsl(var(--foreground));
        }

        .test-section {
            margin-bottom: 3rem;
            padding: 2rem;
            border: 1px solid hsl(var(--border));
            border-radius: var(--radius);
            background-color: hsl(var(--card));
        }

        .test-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: hsl(var(--primary));
        }

        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .test-item {
            padding: 1rem;
            border: 1px solid hsl(var(--border));
            border-radius: calc(var(--radius) - 2px);
            background-color: hsl(var(--background));
        }

        .error-log {
            position: fixed;
            bottom: 20px;
            right: 20px;
            max-width: 400px;
            max-height: 300px;
            overflow-y: auto;
            background: #ff4444;
            color: white;
            padding: 1rem;
            border-radius: var(--radius);
            display: none;
            z-index: 9999;
        }

        .success-log {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: #22c55e;
            color: white;
            padding: 1rem;
            border-radius: var(--radius);
            display: none;
            z-index: 9999;
        }

        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .progress-container {
            width: 100%;
            margin: 1rem 0;
        }
    </style>
</head>
<body>
    <div class="theme-toggle">
        <div id="theme-switch-container"></div>
    </div>

    <h1>ğŸ§ª Shadcn UI ì»´í¬ë„ŒíŠ¸ ë¬´ê²°ì„± í…ŒìŠ¤íŠ¸</h1>
    <p>ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì˜ ê¸°ë³¸ ê¸°ëŠ¥ê³¼ ì˜¤ë¥˜ ë°œìƒ ì—¬ë¶€ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.</p>

    <!-- 1. Button ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ -->
    <div class="test-section">
        <div class="test-title">1. Button ì»´í¬ë„ŒíŠ¸</div>
        <div class="test-grid">
            <div class="test-item">
                <p>ê¸°ë³¸ ë²„íŠ¼ë“¤:</p>
                <div id="button-default"></div>
                <div id="button-destructive"></div>
                <div id="button-outline"></div>
                <div id="button-secondary"></div>
                <div id="button-ghost"></div>
                <div id="button-link"></div>
            </div>
            <div class="test-item">
                <p>í¬ê¸° ë²„íŠ¼ë“¤:</p>
                <div id="button-sm"></div>
                <div id="button-lg"></div>
                <div id="button-icon"></div>
            </div>
        </div>
    </div>

    <!-- 2. Card ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ -->
    <div class="test-section">
        <div class="test-title">2. Card ì»´í¬ë„ŒíŠ¸</div>
        <div class="test-grid">
            <div id="card-simple"></div>
            <div id="card-complete"></div>
            <div id="card-with-action"></div>
        </div>
    </div>

    <!-- 3. Input ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ -->
    <div class="test-section">
        <div class="test-title">3. Input ì»´í¬ë„ŒíŠ¸</div>
        <div class="test-grid">
            <div class="test-item">
                <div id="input-text"></div>
                <div id="input-email"></div>
                <div id="input-password"></div>
            </div>
            <div class="test-item">
                <div id="form-field-container"></div>
            </div>
        </div>
    </div>

    <!-- 4. Badge ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ -->
    <div class="test-section">
        <div class="test-title">4. Badge ì»´í¬ë„ŒíŠ¸</div>
        <div class="test-grid">
            <div class="test-item">
                <p>ê¸°ë³¸ ë°°ì§€ë“¤:</p>
                <div id="badge-container" style="display: flex; gap: 0.5rem; flex-wrap: wrap;"></div>
            </div>
        </div>
    </div>

    <!-- 5. Progress ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ -->
    <div class="test-section">
        <div class="test-title">5. Progress ì»´í¬ë„ŒíŠ¸</div>
        <div class="test-grid">
            <div class="test-item">
                <p>ê¸°ë³¸ í”„ë¡œê·¸ë ˆìŠ¤:</p>
                <div id="progress-basic" class="progress-container"></div>
                <button id="progress-update">ì§„í–‰ë¥  ì—…ë°ì´íŠ¸</button>
            </div>
            <div class="test-item">
                <p>ì›í˜• í”„ë¡œê·¸ë ˆìŠ¤:</p>
                <div id="progress-circular"></div>
            </div>
        </div>
    </div>

    <!-- 6. Tabs ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ -->
    <div class="test-section">
        <div class="test-title">6. Tabs ì»´í¬ë„ŒíŠ¸</div>
        <div id="tabs-container"></div>
    </div>

    <!-- 7. Switch ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ -->
    <div class="test-section">
        <div class="test-title">7. Switch ì»´í¬ë„ŒíŠ¸</div>
        <div class="test-grid">
            <div class="test-item">
                <div id="switch-basic"></div>
                <div id="switch-with-label"></div>
                <div id="switch-setting"></div>
            </div>
        </div>
    </div>

    <!-- 8. Toast í…ŒìŠ¤íŠ¸ ë²„íŠ¼ë“¤ -->
    <div class="test-section">
        <div class="test-title">8. Toast ì»´í¬ë„ŒíŠ¸</div>
        <div class="test-grid">
            <div class="test-item">
                <p>Toast ì•Œë¦¼ í…ŒìŠ¤íŠ¸:</p>
                <button id="toast-success">ì„±ê³µ Toast</button>
                <button id="toast-error">ì˜¤ë¥˜ Toast</button>
                <button id="toast-warning">ê²½ê³  Toast</button>
                <button id="toast-info">ì •ë³´ Toast</button>
            </div>
        </div>
    </div>

    <!-- 9. Dropdown ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ -->
    <div class="test-section">
        <div class="test-title">9. Dropdown ì»´í¬ë„ŒíŠ¸</div>
        <div class="test-grid">
            <div class="test-item">
                <button id="dropdown-trigger">ë“œë¡­ë‹¤ìš´ ì—´ê¸°</button>
            </div>
        </div>
    </div>

    <!-- 10. Tooltip ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ -->
    <div class="test-section">
        <div class="test-title">10. Tooltip ì»´í¬ë„ŒíŠ¸</div>
        <div class="test-grid">
            <div class="test-item">
                <button id="tooltip-trigger">ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë ¤ë³´ì„¸ìš”</button>
                <button id="tooltip-interactive">ì¸í„°ë™í‹°ë¸Œ íˆ´íŒ</button>
            </div>
        </div>
    </div>

    <!-- 11. Modal ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ -->
    <div class="test-section">
        <div class="test-title">11. Modal ì»´í¬ë„ŒíŠ¸</div>
        <div class="test-grid">
            <div class="test-item">
                <button id="modal-basic">ê¸°ë³¸ ëª¨ë‹¬</button>
                <button id="modal-alert">Alert ëª¨ë‹¬</button>
                <button id="modal-confirm">Confirm ëª¨ë‹¬</button>
            </div>
        </div>
    </div>

    <!-- ë¡œê·¸ ì˜ì—­ -->
    <div id="error-log" class="error-log">
        <h4>âŒ ì˜¤ë¥˜ ë¡œê·¸</h4>
        <div id="error-content"></div>
    </div>

    <div id="success-log" class="success-log">
        <h4>âœ… ì„±ê³µ ë¡œê·¸</h4>
        <div id="success-content"></div>
    </div>

    <script type="module">
        // ì „ì—­ ì˜¤ë¥˜ ìºì²˜
        const errorLog = document.getElementById('error-log');
        const errorContent = document.getElementById('error-content');
        const successLog = document.getElementById('success-log');
        const successContent = document.getElementById('success-content');

        let errorCount = 0;
        let successCount = 0;

        function logError(component, error) {
            errorCount++;
            errorContent.innerHTML += `<div><strong>${component}:</strong> ${error.message}</div>`;
            errorLog.style.display = 'block';
            console.error(`[${component}] ì˜¤ë¥˜:`, error);
        }

        function logSuccess(component, message = 'ì •ìƒ ì‘ë™') {
            successCount++;
            successContent.innerHTML += `<div><strong>${component}:</strong> ${message}</div>`;
            successLog.style.display = 'block';
            console.log(`[${component}] ì„±ê³µ:`, message);
        }

        window.addEventListener('error', (event) => {
            logError('ì „ì—­', event.error);
        });

        window.addEventListener('unhandledrejection', (event) => {
            logError('Promise', event.reason);
        });

        try {
            // ì»´í¬ë„ŒíŠ¸ ì„í¬íŠ¸ ë° í…ŒìŠ¤íŠ¸
            import('./components/ui/index.js').then(async (UI) => {
                const { Button, Card, Input, FormField, Badge, Progress, Tabs, Switch, Toast, DropdownMenu, Tooltip, Modal, Theme, QuickCreate } = UI;

                // í…Œë§ˆ í† ê¸€ ìŠ¤ìœ„ì¹˜ ì„¤ì •
                try {
                    const themeSwitch = Switch.createThemeToggle('#theme-switch-container');
                    logSuccess('Theme Switch', 'í…Œë§ˆ í† ê¸€ ìŠ¤ìœ„ì¹˜ ìƒì„±ë¨');
                } catch (error) {
                    logError('Theme Switch', error);
                }

                // 1. Button í…ŒìŠ¤íŠ¸
                try {
                    Button.create({ container: '#button-default', text: 'Default', variant: 'default' });
                    Button.create({ container: '#button-destructive', text: 'Destructive', variant: 'destructive' });
                    Button.create({ container: '#button-outline', text: 'Outline', variant: 'outline' });
                    Button.create({ container: '#button-secondary', text: 'Secondary', variant: 'secondary' });
                    Button.create({ container: '#button-ghost', text: 'Ghost', variant: 'ghost' });
                    Button.create({ container: '#button-link', text: 'Link', variant: 'link' });

                    Button.create({ container: '#button-sm', text: 'Small', size: 'sm' });
                    Button.create({ container: '#button-lg', text: 'Large', size: 'lg' });
                    Button.create({ container: '#button-icon', text: 'ğŸ”', size: 'icon' });

                    logSuccess('Button', 'ëª¨ë“  variant ë° í¬ê¸° ìƒì„±ë¨');
                } catch (error) {
                    logError('Button', error);
                }

                // 2. Card í…ŒìŠ¤íŠ¸
                try {
                    Card.create({ container: '#card-simple' });

                    Card.createComplete({
                        container: '#card-complete',
                        title: 'ì™„ì „í•œ ì¹´ë“œ',
                        description: 'ì„¤ëª…ì´ í¬í•¨ëœ ì¹´ë“œì…ë‹ˆë‹¤',
                        content: 'ì´ê²ƒì€ ì¹´ë“œì˜ ë‚´ìš©ì…ë‹ˆë‹¤.',
                        footer: 'ì¹´ë“œ í‘¸í„°'
                    });

                    Card.createComplete({
                        container: '#card-with-action',
                        title: 'ì•¡ì…˜ ì¹´ë“œ',
                        content: 'ë²„íŠ¼ì´ ìˆëŠ” ì¹´ë“œì…ë‹ˆë‹¤.',
                        action: {
                            text: 'í´ë¦­í•˜ì„¸ìš”',
                            onClick: () => Toast.success('ì¹´ë“œ ì•¡ì…˜ í´ë¦­ë¨!')
                        }
                    });

                    logSuccess('Card', 'ëª¨ë“  ì¹´ë“œ íƒ€ì… ìƒì„±ë¨');
                } catch (error) {
                    logError('Card', error);
                }

                // 3. Input í…ŒìŠ¤íŠ¸
                try {
                    new Input(Input.create({ container: '#input-text', placeholder: 'í…ìŠ¤íŠ¸ ì…ë ¥', type: 'text' }));
                    new Input(Input.create({ container: '#input-email', placeholder: 'ì´ë©”ì¼ ì…ë ¥', type: 'email' }));
                    new Input(Input.create({ container: '#input-password', placeholder: 'ë¹„ë°€ë²ˆí˜¸ ì…ë ¥', type: 'password' }));

                    FormField.create({
                        container: '#form-field-container',
                        label: 'ì´ë¦„',
                        placeholder: 'ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”',
                        description: 'ì‹¤ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”',
                        required: true
                    });

                    logSuccess('Input', 'ëª¨ë“  ì…ë ¥ íƒ€ì… ìƒì„±ë¨');
                } catch (error) {
                    logError('Input', error);
                }

                // 4. Badge í…ŒìŠ¤íŠ¸
                try {
                    const container = document.getElementById('badge-container');
                    container.appendChild(Badge.create({ text: 'Default', variant: 'default' }));
                    container.appendChild(Badge.create({ text: 'Secondary', variant: 'secondary' }));
                    container.appendChild(Badge.create({ text: 'Destructive', variant: 'destructive' }));
                    container.appendChild(Badge.create({ text: 'Outline', variant: 'outline' }));
                    container.appendChild(Badge.createCount(42));
                    container.appendChild(Badge.createStatus('success'));

                    logSuccess('Badge', 'ëª¨ë“  ë°°ì§€ íƒ€ì… ìƒì„±ë¨');
                } catch (error) {
                    logError('Badge', error);
                }

                // 5. Progress í…ŒìŠ¤íŠ¸
                try {
                    const progress = Progress.create({
                        container: '#progress-basic',
                        value: 50,
                        showLabel: true
                    });

                    document.getElementById('progress-update').addEventListener('click', () => {
                        const newValue = Math.floor(Math.random() * 100);
                        progress.animateTo(newValue, 1000);
                    });

                    Progress.createCircular('#progress-circular', { size: 100 });

                    logSuccess('Progress', 'ì§„í–‰ë¥  ë°” ìƒì„±ë¨');
                } catch (error) {
                    logError('Progress', error);
                }

                // 6. Tabs í…ŒìŠ¤íŠ¸
                try {
                    Tabs.create({
                        container: '#tabs-container',
                        tabs: [
                            { value: 'tab1', label: 'íƒ­ 1', content: 'ì²« ë²ˆì§¸ íƒ­ì˜ ë‚´ìš©ì…ë‹ˆë‹¤.' },
                            { value: 'tab2', label: 'íƒ­ 2', content: 'ë‘ ë²ˆì§¸ íƒ­ì˜ ë‚´ìš©ì…ë‹ˆë‹¤.' },
                            { value: 'tab3', label: 'íƒ­ 3', content: 'ì„¸ ë²ˆì§¸ íƒ­ì˜ ë‚´ìš©ì…ë‹ˆë‹¤.' }
                        ],
                        defaultValue: 'tab1'
                    });

                    logSuccess('Tabs', 'íƒ­ ì»´í¬ë„ŒíŠ¸ ìƒì„±ë¨');
                } catch (error) {
                    logError('Tabs', error);
                }

                // 7. Switch í…ŒìŠ¤íŠ¸
                try {
                    Switch.create({
                        container: '#switch-basic',
                        onCheckedChange: (checked) => Toast.info(`ìŠ¤ìœ„ì¹˜: ${checked ? 'ON' : 'OFF'}`)
                    });

                    Switch.createWithLabel('#switch-with-label', 'ì•Œë¦¼ ë°›ê¸°');

                    Switch.createSettingSwitch('#switch-setting', 'dark-mode', {
                        title: 'ë‹¤í¬ ëª¨ë“œ',
                        description: 'ì–´ë‘ìš´ í…Œë§ˆë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤'
                    });

                    logSuccess('Switch', 'ìŠ¤ìœ„ì¹˜ ì»´í¬ë„ŒíŠ¸ ìƒì„±ë¨');
                } catch (error) {
                    logError('Switch', error);
                }

                // 8. Toast í…ŒìŠ¤íŠ¸
                try {
                    document.getElementById('toast-success').addEventListener('click', () => {
                        Toast.success('ì„±ê³µ ë©”ì‹œì§€ì…ë‹ˆë‹¤!');
                    });

                    document.getElementById('toast-error').addEventListener('click', () => {
                        Toast.error('ì˜¤ë¥˜ ë©”ì‹œì§€ì…ë‹ˆë‹¤!');
                    });

                    document.getElementById('toast-warning').addEventListener('click', () => {
                        Toast.warning('ê²½ê³  ë©”ì‹œì§€ì…ë‹ˆë‹¤!');
                    });

                    document.getElementById('toast-info').addEventListener('click', () => {
                        Toast.info('ì •ë³´ ë©”ì‹œì§€ì…ë‹ˆë‹¤!');
                    });

                    logSuccess('Toast', 'í† ìŠ¤íŠ¸ ë²„íŠ¼ ì´ë²¤íŠ¸ ë“±ë¡ë¨');
                } catch (error) {
                    logError('Toast', error);
                }

                // 9. Dropdown í…ŒìŠ¤íŠ¸
                try {
                    new DropdownMenu('#dropdown-trigger', {
                        items: [
                            { label: 'í¸ì§‘', onClick: () => Toast.info('í¸ì§‘ í´ë¦­ë¨') },
                            { label: 'ë³µì‚¬', onClick: () => Toast.info('ë³µì‚¬ í´ë¦­ë¨') },
                            { type: 'separator' },
                            { label: 'ì‚­ì œ', onClick: () => Toast.warning('ì‚­ì œ í´ë¦­ë¨') }
                        ]
                    });

                    logSuccess('Dropdown', 'ë“œë¡­ë‹¤ìš´ ë©”ë‰´ ìƒì„±ë¨');
                } catch (error) {
                    logError('Dropdown', error);
                }

                // 10. Tooltip í…ŒìŠ¤íŠ¸
                try {
                    new Tooltip('#tooltip-trigger', {
                        content: 'ì´ê²ƒì€ ê¸°ë³¸ íˆ´íŒì…ë‹ˆë‹¤',
                        position: 'top'
                    });

                    new Tooltip('#tooltip-interactive', {
                        content: '<strong>HTML</strong> ì½˜í…ì¸ ê°€ í¬í•¨ëœ ì¸í„°ë™í‹°ë¸Œ íˆ´íŒì…ë‹ˆë‹¤',
                        interactive: true,
                        maxWidth: '200px'
                    });

                    logSuccess('Tooltip', 'íˆ´íŒ ì»´í¬ë„ŒíŠ¸ ìƒì„±ë¨');
                } catch (error) {
                    logError('Tooltip', error);
                }

                // 11. Modal í…ŒìŠ¤íŠ¸
                try {
                    document.getElementById('modal-basic').addEventListener('click', () => {
                        Modal.create({
                            title: 'ê¸°ë³¸ ëª¨ë‹¬',
                            content: 'ì´ê²ƒì€ ê¸°ë³¸ ëª¨ë‹¬ì˜ ë‚´ìš©ì…ë‹ˆë‹¤.',
                            footer: true
                        }).open();
                    });

                    document.getElementById('modal-alert').addEventListener('click', () => {
                        Modal.alert('ì´ê²ƒì€ ì•Œë¦¼ ëª¨ë‹¬ì…ë‹ˆë‹¤!');
                    });

                    document.getElementById('modal-confirm').addEventListener('click', () => {
                        Modal.confirm('ì •ë§ë¡œ ì‹¤í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?').then(result => {
                            if (result) {
                                Toast.success('í™•ì¸ì„ ì„ íƒí–ˆìŠµë‹ˆë‹¤');
                            } else {
                                Toast.info('ì·¨ì†Œë¥¼ ì„ íƒí–ˆìŠµë‹ˆë‹¤');
                            }
                        });
                    });

                    logSuccess('Modal', 'ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸ ìƒì„±ë¨');
                } catch (error) {
                    logError('Modal', error);
                }

                // ìµœì¢… ê²°ê³¼ í‘œì‹œ
                setTimeout(() => {
                    if (errorCount === 0) {
                        successContent.innerHTML += `<hr><div><strong>ğŸ‰ ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼!</strong> (${successCount}ê°œ ì„±ê³µ)</div>`;
                        Toast.success(`ëª¨ë“  ì»´í¬ë„ŒíŠ¸ê°€ ì •ìƒ ì‘ë™í•©ë‹ˆë‹¤! (${successCount}ê°œ ì„±ê³µ)`);
                    } else {
                        Toast.error(`${errorCount}ê°œì˜ ì˜¤ë¥˜ê°€ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤.`);
                    }
                }, 1000);

            }).catch(error => {
                logError('ëª¨ë“ˆ ë¡œë“œ', error);
            });

        } catch (error) {
            logError('ì „ì²´', error);
        }
    </script>
</body>
</html>