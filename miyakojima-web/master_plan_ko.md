# 🏝️ 미야코지마 여행 앱 개발 마스터플랜

**버전**: 1.0  
**작성일**: 2025-01-25  
**목표 일정**: 2025-09-27 (D-11 현재)  
**작성자**: System Architecture Team

---

## 📋 목차
1. [프로젝트 개요](#1-프로젝트-개요)
2. [Phase 0: 사전 준비](#phase-0-사전-준비)
3. [Phase 1: 데이터 마이그레이션](#phase-1-데이터-마이그레이션)
4. [Phase 2: 백엔드 API 구축](#phase-2-백엔드-api-구축)
5. [Phase 3: 프론트엔드 기본 구조](#phase-3-프론트엔드-기본-구조)
6. [Phase 4: 핵심 기능 구현](#phase-4-핵심-기능-구현)
7. [Phase 5: 최적화 및 테스트](#phase-5-최적화-및-테스트)
8. [Phase 6: 배포 및 운영](#phase-6-배포-및-운영)
9. [위험 관리](#위험-관리)
10. [품질 보증](#품질-보증)

---

## 1. 프로젝트 개요

### 목표
2025년 9월 27일 미야코지마 여행에서 사용할 수 있는 MVP 레벨의 여행 관리 앱 구축

### 핵심 기능
- **POI 조회**: 미야코지마 관광지 정보 검색 및 필터링
- **일정 관리**: 일별 여행 일정 관리 및 수정
- **예산 추적**: 실시간 지출 기록 및 카테고리별 분석

### 기술 스택
- **프론트엔드**: GitHub Pages (PWA)
- **백엔드**: Google Apps Script
- **데이터베이스**: Google Sheets
- **인증**: JWT

### 개발 일정
- **총 기간**: 10일 (집중 개발)
- **일일 작업 시간**: 8시간
- **총 예상 공수**: 80시간

---

## Phase 0: 사전 준비
**기간**: Day 1 (8시간)  
**목표**: 개발 환경 구성 및 계정 설정

### Task 0.1: Google 계정 및 프로젝트 설정
**담당**: system-architect  
**예상 시간**: 2시간

#### 체크리스트
- [x] Google 계정 2단계 인증 설정
- [x] Google Cloud Console 프로젝트 생성
- [x] Google Sheets API 활성화
- [x] Google Apps Script 프로젝트 생성
- [x] API 키 및 인증 정보 생성

#### 📋 산출물
- [x] `docs/gcp_setup_guide.md` - 상세한 단계별 설정 가이드 생성

#### 완료 조건
- Google Cloud 프로젝트 ID 확보
- Apps Script 프로젝트 URL 확보
- API 키 안전하게 저장

### Task 0.2: GitHub 저장소 설정
**담당**: devops-engineer  
**예상 시간**: 2시간

#### 체크리스트
- [ ] GitHub Pages 활성화
- [ ] 도메인 설정 (username.github.io/miyakojima-web)
- [ ] 브랜치 전략 수립 (main, develop, feature/*)
- [ ] .gitignore 파일 설정
- [ ] README.md 업데이트

#### 완료 조건
- GitHub Pages URL 접속 가능
- 브랜치 보호 규칙 설정 완료
- 초기 커밋 완료

### Task 0.3: 개발 도구 설치 및 설정
**담당**: full-stack-developer  
**예상 시간**: 2시간

#### 체크리스트
- [ ] VS Code 설치 및 확장 프로그램 설정
- [ ] Node.js 및 npm 설치
- [ ] Git 설정 및 SSH 키 등록
- [ ] Chrome DevTools 설정
- [ ] Postman 또는 Insomnia 설치

#### 완료 조건
- 모든 도구 설치 완료
- 로컬 개발 서버 실행 가능
- API 테스트 환경 준비

### Task 0.4: 프로젝트 초기 구조 생성
**담당**: system-architect  
**예상 시간**: 2시간

#### 체크리스트
- [ ] 폴더 구조 생성 (js/, css/, docs/, assets/)
- [ ] 기본 HTML 파일 생성
- [ ] manifest.json 생성 (PWA)
- [ ] 기본 CSS 파일 생성
- [ ] 기본 JavaScript 모듈 구조 생성

#### 완료 조건
- 프로젝트 구조 문서화 완료
- 기본 파일 생성 완료
- 로컬에서 index.html 실행 가능

---

## Phase 1: 데이터 마이그레이션
**기간**: Day 2 (8시간)  
**목표**: NewData JSON을 Google Sheets로 변환

### 🔴 Task 1.1: 데이터 마이그레이션 스크립트 작성 (최우선)
**담당**: backend-architect  
**예상 시간**: 4시간

#### 체크리스트
- [ ] NewData 폴더의 모든 JSON 파일 읽기
- [ ] data_schema_ko.md 기반 변환 규칙 구현
- [ ] JSON → 2차원 배열 변환 함수 작성
- [ ] 데이터 정규화 로직 구현
- [ ] 에러 처리 및 로깅

#### 완료 조건
- Node.js 스크립트 실행 가능
- 모든 JSON 데이터 파싱 성공
- 변환된 데이터 CSV 출력 가능

### Task 1.2: Google Sheets 생성 및 구조화
**담당**: backend-architect  
**예상 시간**: 2시간

#### 체크리스트
- [ ] Google Sheets 워크북 생성
- [ ] 11개 시트 생성 (data_schema_ko.md 참조)
- [ ] 각 시트 헤더 행 설정
- [ ] 데이터 유형 및 서식 설정
- [ ] 권한 설정 (편집자 권한)

#### 완료 조건
- Spreadsheet ID 확보
- 모든 시트 생성 완료
- 헤더 행 검증 완료

### Task 1.3: 데이터 업로드 및 검증
**담당**: backend-architect  
**예상 시간**: 2시간

#### 체크리스트
- [ ] Google Sheets API 연동
- [ ] 변환된 데이터 일괄 업로드
- [ ] 데이터 무결성 검증
- [ ] Primary Key 중복 확인
- [ ] Foreign Key 참조 확인

#### 완료 조건
- 모든 데이터 업로드 완료
- 데이터 검증 보고서 생성
- 샘플 쿼리 테스트 통과

---

## Phase 2: 백엔드 API 구축
**기간**: Day 3-4 (16시간)  
**목표**: Google Apps Script API 구현

### Task 2.1: Apps Script 기본 구조 설정
**담당**: backend-architect  
**예상 시간**: 4시간

#### 체크리스트
- [ ] Code.gs 메인 핸들러 작성
- [ ] doGet/doPost 함수 구현
- [ ] CORS 헤더 설정
- [ ] 라우터 패턴 구현
- [ ] 에러 핸들러 구현

#### 완료 조건
- Web App URL 생성
- OPTIONS 요청 처리 가능
- 기본 응답 테스트 통과

### Task 2.2: JWT 인증 시스템 구현
**담당**: security-engineer  
**예상 시간**: 4시간

#### 체크리스트
- [ ] JWT 토큰 생성 함수
- [ ] 토큰 검증 함수
- [ ] 리프레시 토큰 로직
- [ ] 권한 레벨 관리
- [ ] 토큰 블랙리스트 구현

#### 완료 조건
- 토큰 발급 API 동작
- 토큰 검증 테스트 통과
- 권한 기반 접근 제어 확인

### Task 2.3: 데이터 접근 레이어 구현
**담당**: backend-architect  
**예상 시간**: 4시간

#### 체크리스트
- [ ] SpreadsheetApp 래퍼 클래스
- [ ] CRUD 메서드 구현
- [ ] 쿼리 빌더 함수
- [ ] 페이지네이션 로직
- [ ] 트랜잭션 처리

#### 완료 조건
- 모든 시트 접근 가능
- CRUD 작업 테스트 완료
- 쿼리 성능 측정 완료

### Task 2.4: API 엔드포인트 구현
**담당**: backend-architect  
**예상 시간**: 4시간

#### 체크리스트
- [ ] /v1/auth/* 엔드포인트
- [ ] /v1/pois/* 엔드포인트
- [ ] /v1/itinerary/* 엔드포인트
- [ ] /v1/budget/* 엔드포인트
- [ ] /v1/analytics/* 엔드포인트

#### 완료 조건
- 모든 엔드포인트 라우팅 완료
- Postman 컬렉션 작성
- API 응답 시간 < 500ms

---

## Phase 3: 프론트엔드 기본 구조
**기간**: Day 5 (8시간)  
**목표**: PWA 기반 프론트엔드 구축

### Task 3.1: PWA 설정 및 Service Worker
**담당**: frontend-architect  
**예상 시간**: 3시간

#### 체크리스트
- [ ] manifest.json 완성
- [ ] Service Worker 등록
- [ ] 캐시 전략 구현
- [ ] 오프라인 페이지 생성
- [ ] 설치 프롬프트 구현

#### 완료 조건
- PWA 설치 가능
- 오프라인 모드 동작
- Lighthouse PWA 점수 > 90

### Task 3.2: UI 컴포넌트 라이브러리
**담당**: frontend-architect  
**예상 시간**: 3시간

#### 체크리스트
- [ ] 버튼 컴포넌트
- [ ] 카드 컴포넌트
- [ ] 모달 컴포넌트
- [ ] 네비게이션 컴포넌트
- [ ] 폼 컴포넌트

#### 완료 조건
- 컴포넌트 스타일 가이드 작성
- 재사용 가능한 CSS 클래스
- 컴포넌트 데모 페이지 생성

### Task 3.3: API 클라이언트 라이브러리
**담당**: frontend-architect  
**예상 시간**: 2시간

#### 체크리스트
- [ ] API 클라이언트 클래스
- [ ] 토큰 관리 로직
- [ ] 요청/응답 인터셉터
- [ ] 에러 처리 로직
- [ ] 재시도 메커니즘

#### 완료 조건
- API 호출 테스트 완료
- 토큰 자동 갱신 확인
- 네트워크 에러 처리 확인

---

## Phase 4: 핵심 기능 구현
**기간**: Day 6-7 (16시간)  
**목표**: POI, 일정, 예산 기능 구현

### Task 4.1: POI 조회 기능
**담당**: full-stack-developer  
**예상 시간**: 5시간

#### 체크리스트
- [ ] POI 목록 페이지
- [ ] 필터링 UI (카테고리, 섬, 필수방문)
- [ ] POI 상세 보기 모달
- [ ] 지도 표시 (Google Maps)
- [ ] 즐겨찾기 기능

#### 완료 조건
- POI 100개 이상 표시 가능
- 필터링 실시간 동작
- 지도 마커 표시 완료

### Task 4.2: 일정 관리 기능
**담당**: full-stack-developer  
**예상 시간**: 5시간

#### 체크리스트
- [ ] 일별 일정 표시
- [ ] 일정 추가 폼
- [ ] 일정 수정/삭제
- [ ] 드래그 앤 드롭 순서 변경
- [ ] 시간 충돌 검증

#### 완료 조건
- 5일 일정 관리 가능
- 실시간 저장 확인
- 오프라인 동기화 테스트

### Task 4.3: 예산 추적 기능
**담당**: full-stack-developer  
**예상 시간**: 6시간

#### 체크리스트
- [ ] 지출 입력 폼
- [ ] 카테고리별 집계
- [ ] 일별 예산 현황
- [ ] 영수증 사진 업로드
- [ ] 환율 계산기

#### 완료 조건
- 실시간 집계 확인
- 차트 표시 완료
- 데이터 export 기능 동작

---

## Phase 5: 최적화 및 테스트
**기간**: Day 8-9 (16시간)  
**목표**: 성능 최적화 및 품질 보증

### Task 5.1: 성능 최적화
**담당**: performance-engineer  
**예상 시간**: 4시간

#### 체크리스트
- [ ] 코드 분할 (Code Splitting)
- [ ] 이미지 최적화
- [ ] CSS/JS 압축
- [ ] 캐싱 전략 최적화
- [ ] API 호출 최소화

#### 완료 조건
- FCP < 1초
- LCP < 2.5초
- Lighthouse 점수 > 90

### Task 5.2: 캐싱 시스템 구현
**담당**: backend-architect  
**예상 시간**: 4시간

#### 체크리스트
- [ ] Service Worker 캐시
- [ ] LocalStorage 캐시
- [ ] Apps Script 메모리 캐시
- [ ] Properties Service 캐시
- [ ] 캐시 무효화 로직

#### 완료 조건
- 캐시 히트율 > 80%
- 오프라인 기능 95% 동작
- 캐시 갱신 테스트 통과

### Task 5.3: 통합 테스트
**담당**: qa-engineer  
**예상 시간**: 4시간

#### 체크리스트
- [ ] 사용자 시나리오 테스트
- [ ] 크로스 브라우저 테스트
- [ ] 모바일 디바이스 테스트
- [ ] 네트워크 조건 테스트
- [ ] 동시 사용자 테스트

#### 완료 조건
- 주요 시나리오 100% 통과
- 3개 브라우저 호환성 확인
- 모바일 사용성 검증 완료

### Task 5.4: 버그 수정 및 개선
**담당**: full-stack-developer  
**예상 시간**: 4시간

#### 체크리스트
- [ ] 크리티컬 버그 수정
- [ ] UI/UX 개선사항 적용
- [ ] 접근성 개선 (WCAG 2.1)
- [ ] 에러 메시지 개선
- [ ] 로딩 상태 개선

#### 완료 조건
- 크리티컬 버그 0건
- 접근성 점수 AA 등급
- 사용자 피드백 반영 완료

---

## Phase 6: 배포 및 운영
**기간**: Day 10 (8시간)  
**목표**: 운영 환경 배포 및 모니터링

### Task 6.1: 운영 환경 배포
**담당**: devops-engineer  
**예상 시간**: 3시간

#### 체크리스트
- [ ] GitHub Pages 배포
- [ ] Apps Script 운영 배포
- [ ] 환경 변수 설정
- [ ] 도메인 설정
- [ ] SSL 인증서 확인

#### 완료 조건
- 운영 URL 접속 가능
- HTTPS 적용 완료
- 모든 기능 정상 동작

### Task 6.2: 모니터링 설정
**담당**: devops-engineer  
**예상 시간**: 2시간

#### 체크리스트
- [ ] Google Analytics 설정
- [ ] 에러 로깅 설정
- [ ] 성능 모니터링
- [ ] 사용자 행동 추적
- [ ] 알림 설정

#### 완료 조건
- 실시간 모니터링 대시보드
- 에러 알림 수신 테스트
- 일일 리포트 생성

### Task 6.3: 백업 및 복구 계획
**담당**: devops-engineer  
**예상 시간**: 2시간

#### 체크리스트
- [ ] Google Sheets 자동 백업
- [ ] 코드 버전 관리
- [ ] 데이터 export 스크립트
- [ ] 복구 절차 문서화
- [ ] 비상 연락망 구성

#### 완료 조건
- 백업 자동화 확인
- 복구 테스트 완료
- 문서화 100% 완료

### Task 6.4: 사용자 가이드 작성
**담당**: technical-writer  
**예상 시간**: 1시간

#### 체크리스트
- [ ] 기능별 사용 방법
- [ ] FAQ 작성
- [ ] 문제 해결 가이드
- [ ] 비디오 튜토리얼
- [ ] 퀵 스타트 가이드

#### 완료 조건
- 모든 기능 문서화
- 스크린샷 포함
- 한국어 번역 완료

---

## 위험 관리

### 기술적 위험
| 위험 | 영향도 | 확률 | 대응 방안 |
|------|--------|------|-----------|
| Apps Script 실행 시간 초과 | 높음 | 중간 | 배치 처리, 캐싱 강화 |
| API 호출 제한 초과 | 높음 | 낮음 | Rate limiting, 큐잉 |
| 데이터 손실 | 매우 높음 | 낮음 | 다중 백업, 트랜잭션 |
| 브라우저 호환성 | 중간 | 중간 | 폴리필, 점진적 향상 |
| 네트워크 불안정 | 중간 | 높음 | 오프라인 모드 강화 |

### 일정 위험
| 위험 | 영향도 | 확률 | 대응 방안 |
|------|--------|------|-----------|
| 개발 지연 | 높음 | 중간 | 핵심 기능 우선 구현 |
| 테스트 부족 | 높음 | 중간 | 자동화 테스트 구축 |
| 배포 실패 | 매우 높음 | 낮음 | 스테이징 환경 테스트 |

---

## 품질 보증

### 성능 기준
- **페이지 로드**: < 2초
- **API 응답**: < 300ms
- **캐시 히트율**: > 85%
- **오프라인 기능**: > 95%

### 품질 기준
- **코드 커버리지**: > 70%
- **Lighthouse 점수**: > 90
- **접근성**: WCAG 2.1 AA
- **크로스 브라우저**: Chrome, Safari, Firefox

### 보안 기준
- **인증**: JWT 토큰
- **전송**: HTTPS only
- **데이터**: 암호화 저장
- **권한**: 최소 권한 원칙

---

## 일일 체크인

매일 오전 9시 다음 항목 확인:
- [ ] 전일 완료 Task 검토
- [ ] 당일 Task 우선순위 결정
- [ ] 블로커 이슈 확인
- [ ] 진행률 업데이트
- [ ] 리스크 평가

---

## 최종 검증 체크리스트

### 출발 전 (D-1)
- [ ] 모든 핵심 기능 동작 확인
- [ ] 오프라인 모드 테스트
- [ ] 백업 완료
- [ ] 비상 연락망 확인
- [ ] 사용자 가이드 준비

### 여행 중
- [ ] 일일 모니터링
- [ ] 실시간 이슈 대응
- [ ] 사용자 피드백 수집
- [ ] 성능 메트릭 추적
- [ ] 데이터 백업

---

**마스터플랜 끝**

이 계획을 따라 체계적으로 진행하면 미야코지마 여행 전까지 안정적인 MVP 앱을 완성할 수 있습니다.