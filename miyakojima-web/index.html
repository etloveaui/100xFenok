<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ë¯¸ì•¼ì½”ì§€ë§ˆ ì—¬í–‰ ìŠ¤ë§ˆíŠ¸ ì»´íŒ¨ë‹ˆì–¸ - ì‹¤ì‹œê°„ ì˜ˆì‚° ì¶”ì , GPS ê¸°ë°˜ ì¶”ì²œ, ìŠ¤ë§ˆíŠ¸ ì¼ì • ê´€ë¦¬">
    <title>ğŸï¸ Miyako Travel Assistant v2.3.0</title>

    <!-- ë„¤ë¹„ê²Œì´ì…˜ ê°œì„ ëœ ë””ìì¸ CSS -->
    <style>
        /* ë„¤ë¹„ê²Œì´ì…˜ ì»¨í…Œì´ë„ˆ - ì»´íŒ©íŠ¸í•œ ë””ìì¸ */
        .main-nav {
            display: none;
            visibility: hidden;
            opacity: 0;
            position: relative !important;
            z-index: 100 !important;
            background: linear-gradient(135deg, rgba(0, 188, 212, 0.95), rgba(0, 150, 200, 0.95)) !important;
            backdrop-filter: blur(20px) !important;
            padding: 8px 16px !important;
            justify-content: center !important;
            gap: 8px !important;
            width: 100% !important;
            height: auto !important;
            min-height: 50px !important;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1) !important;
            transition: all 0.3s ease;
        }

        /* ì•± ì´ˆê¸°í™” ì™„ë£Œ í›„ ë„¤ë¹„ê²Œì´ì…˜ í‘œì‹œ */
        .main-nav.ready {
            display: flex !important;
            visibility: visible !important;
            opacity: 1 !important;
        }

        /* ëª¨ë“  íƒ­ ë²„íŠ¼ ê¸°ë³¸ ìŠ¤íƒ€ì¼ - ë” ì‘ê³  ê¹”ë”í•˜ê²Œ */
        .nav-btn {
            display: flex !important;
            visibility: visible !important;
            opacity: 1 !important;
            position: relative !important;
            z-index: 10 !important;
            align-items: center !important;
            gap: 6px !important;
            padding: 8px 14px !important;
            border-radius: 16px !important;
            font-size: 13px !important;
            font-weight: 700 !important;
            border: 1px solid transparent !important;
            cursor: pointer !important;
            min-width: 80px !important;
            max-width: 95px !important;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
            text-shadow: none !important;
            white-space: nowrap !important;
        }

        /* í™œì„±í™”ëœ íƒ­ - ì§„í•œ í°ìƒ‰ ë°°ê²½ê³¼ ì„ ëª…í•œ í…ìŠ¤íŠ¸ */
        .nav-btn.active,
        button.nav-btn.active,
        .nav-btn.btn-primary {
            background: #ffffff !important;
            color: #0d47a1 !important;
            box-shadow: 0 3px 12px rgba(0, 0, 0, 0.25) !important;
            transform: translateY(-1px) !important;
            border-color: rgba(13, 71, 161, 0.2) !important;
            font-weight: 800 !important;
        }

        /* ë¹„í™œì„± íƒ­ - ë”°ëœ»í•˜ê³  ì„¸ë ¨ëœ ë””ìì¸ */
        .nav-btn:not(.active),
        button.nav-btn:not(.active),
        .nav-btn.btn-secondary {
            background: rgba(255, 255, 255, 0.25) !important;
            color: #1a365d !important;
            border: 1px solid rgba(255, 255, 255, 0.5) !important;
            text-shadow: none !important;
            font-weight: 600 !important;
            backdrop-filter: blur(8px) !important;
        }

        /* í˜¸ë²„ íš¨ê³¼ - ë”°ëœ»í•˜ê³  ë¶€ë“œëŸ½ê²Œ */
        .nav-btn:not(.active):hover {
            background: rgba(255, 255, 255, 0.35) !important;
            border-color: rgba(255, 255, 255, 0.7) !important;
            transform: translateY(-1px) !important;
            box-shadow: 0 4px 16px rgba(26, 54, 93, 0.15) !important;
            color: #0d47a1 !important;
        }

        .nav-btn:not(.active):hover svg,
        .nav-btn:not(.active):hover .icon {
            stroke: #0d47a1 !important;
        }

        /* SVG ì•„ì´ì½˜ ìŠ¤íƒ€ì¼ - ì‘ê²Œ */
        .nav-btn svg,
        .nav-btn .icon {
            width: 16px !important;
            height: 16px !important;
            stroke: currentColor !important;
            stroke-width: 2.5 !important;
            fill: none !important;
        }

        .nav-btn.active svg,
        .nav-btn.active .icon {
            stroke: #0d47a1 !important;
        }

        .nav-btn:not(.active) svg,
        .nav-btn:not(.active) .icon {
            stroke: #1a365d !important;
            filter: none !important;
        }

        /* í´ë¦­ íš¨ê³¼ */
        .nav-btn:active {
            transform: scale(0.98) !important;
        }

        /* ë„¤ë¹„ê²Œì´ì…˜ ì¤€ë¹„ë¨ ìƒíƒœ */
        .main-nav.ready {
            display: flex !important;
            visibility: visible !important;
            opacity: 1 !important;
            transition: opacity 0.3s ease-in-out !important;
        }
    </style>

    <!-- PWA ì„¤ì • -->
    <link rel="manifest" href="./manifest.json">
    <meta name="theme-color" content="#00bcd4">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="ë¯¸ì•¼ì½”ì§€ë§ˆ ì»´íŒ¨ë‹ˆì–¸">

    <!-- ğŸï¸ Miyako Design System - Unified CSS -->
    <link rel="stylesheet" href="./css/miyako-design-system.css">
    <link rel="stylesheet" href="./css/main-optimized.css">
    <link rel="stylesheet" href="./css/header-optimized.css">

    <!-- ì•„ì´ì½˜ ì‹œìŠ¤í…œì€ miyako-design-system.cssì—ì„œ ì²˜ë¦¬ -->
</head>
<body>
    <!-- â™¿ ì ‘ê·¼ì„±: ë©”ì¸ ì½˜í…ì¸ ë¡œ ê±´ë„ˆë›°ê¸° -->
    <a href="#main-content" class="skip-link">ë©”ì¸ ì½˜í…ì¸ ë¡œ ê±´ë„ˆë›°ê¸°</a>
    <!-- ë¡œë”© ìŠ¤í¬ë¦° -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="loader">ğŸï¸</div>
            <p>ë¯¸ì•¼ì½”ì§€ë§ˆ ë°ì´í„° ë¡œë”© ì¤‘...</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
        </div>
    </div>

    <!-- ë©”ì¸ í—¤ë” - ìµœì í™”ë¨ -->
    <header class="main-header optimized">
        <div class="header-content">
            <!-- 3ë¶„í•  ë ˆì´ì•„ì›ƒ: ì¢Œì¸¡(D-Day) - ì¤‘ì•™(ë¡œê³ ) - ìš°ì¸¡(ë‚ ì”¨) -->
            <div class="header-layout">
                <!-- ì¢Œì¸¡: D-Day ë° ì—¬í–‰ ì •ë³´ -->
                <div class="header-left">
                    <div class="trip-dates">2025.09.27</div>
                    <div class="trip-countdown">
                        <span class="d-day-label">D</span>
                        <span class="d-day-number" id="dday-number">-11</span>
                    </div>
                    <div class="couple-names">
                        <span class="traveler">Fenomeno</span>
                        <span class="heart">â™¥</span>
                        <span class="traveler">Mona</span>
                    </div>
                </div>

                <!-- ì¤‘ì•™: ë¡œê³ ë§Œ -->
                <div class="header-center">
                    <h1 class="main-title clickable" onclick="goToDashboard()">
                        ğŸï¸ Miyako Travel Assistant
                    </h1>
                </div>

                <!-- ìš°ì¸¡: ë‚ ì”¨ ì¹´ë“œ -->
                <div class="header-right">
                    <div class="weather-simple" onclick="openWeatherDetails()">
                        <div class="weather-top-row">
                            <div class="weather-location" id="location-name">í˜„ì¬ ìœ„ì¹˜</div>
                            <div class="current-time" id="current-time">--:--</div>
                        </div>
                        <div class="weather-main-row">
                            <div class="weather-icon-large" id="weather-icon">ğŸŒ¤ï¸</div>
                            <div class="weather-info">
                                <div class="weather-temp" id="simple-temp">--Â°C</div>
                                <div class="weather-condition" id="simple-condition">ë¡œë”© ì¤‘</div>
                            </div>
                        </div>
                        <div class="weather-hint">ìì„¸íˆ ë³´ê¸° â€º</div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- ë„¤ë¹„ê²Œì´ì…˜ - í—¤ë” ë°–ì— ë…ë¦½ì ìœ¼ë¡œ ë°°ì¹˜ -->
    <nav class="main-nav">
        <button class="btn-primary nav-btn active" data-section="dashboard">
            <svg class="icon"><circle cx="12" cy="12" r="3"></circle><path d="M12 1v6m0 6v6m11-7h-6m-6 0H1"></path></svg>
            ëŒ€ì‹œë³´ë“œ
        </button>
        <button class="btn-secondary nav-btn" data-section="budget">
            <svg class="icon"><path d="M12 1v22m5-18H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg>
            ì˜ˆì‚°
        </button>
        <button class="btn-secondary nav-btn" data-section="itinerary">
            <svg class="icon"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
            ì¼ì •
        </button>
        <button class="btn-secondary nav-btn" data-section="poi">
            <svg class="icon"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>
            ì¥ì†Œ
        </button>
    </nav>

    <!-- ë©”ì¸ ì»¨í…Œì´ë„ˆ -->
    <main id="main-content" class="main-container" role="main">
        <!-- ëŒ€ì‹œë³´ë“œ ì„¹ì…˜ -->
        <section id="dashboard-section" class="section active">
            <div class="dashboard-grid">
                <!-- ì˜ˆì‚° í˜„í™© ì¹´ë“œ -->
                <div class="card dashboard-card budget-overview">
                    <div class="card-header">
                        <h3>ğŸ’° ì˜¤ëŠ˜ ì˜ˆì‚° í˜„í™©</h3>
                        <span class="budget-status" id="budget-status">ì–‘í˜¸</span>
                    </div>
                    <div class="budget-summary">
                        <div class="budget-item">
                            <span class="budget-label">ì‚¬ìš©</span>
                            <span class="budget-amount spent" id="today-spent">0 ì—”</span>
                        </div>
                        <div class="budget-item">
                            <span class="budget-label">ë‚¨ì€ ì˜ˆì‚°</span>
                            <span class="budget-amount remaining" id="today-remaining">20,000 ì—”</span>
                        </div>
                    </div>
                    <div class="budget-progress">
                        <div class="progress-bar">
                            <div class="progress-fill budget-progress-fill" id="budget-progress"></div>
                        </div>
                    </div>
                </div>

                <!-- í˜„ì¬ ìœ„ì¹˜ ì¹´ë“œ -->
                <div class="card dashboard-card location-card">
                    <div class="card-header">
                        <h3>ğŸ“ í˜„ì¬ ìœ„ì¹˜</h3>
                        <button id="refresh-location" class="btn-ghost btn-icon">
                            <svg class="icon"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="m3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg>
                        </button>
                    </div>
                    <div class="location-info">
                        <p class="current-location" id="current-location">ìœ„ì¹˜ í™•ì¸ ì¤‘...</p>
                        <p class="location-detail" id="location-detail">GPS ì‹ í˜¸ë¥¼ ì°¾ê³  ìˆìŠµë‹ˆë‹¤</p>
                    </div>
                </div>

                <!-- ë‹¤ìŒ ëª©ì ì§€ ì¹´ë“œ -->
                <div class="card dashboard-card next-destination">
                    <div class="card-header">
                        <h3>ğŸ¯ ë‹¤ìŒ ëª©ì ì§€</h3>
                        <span class="eta" id="next-eta">15ë¶„</span>
                    </div>
                    <div class="destination-info">
                        <h4 id="next-destination-name">ìš”ë‚˜í•˜ ë§ˆì—í•˜ë§ˆ ë¹„ì¹˜</h4>
                        <p id="next-destination-desc">ë™ì–‘ ìµœê³ ì˜ í•´ë³€, ì¼ëª° ëª…ì†Œ</p>
                        <div class="destination-actions">
                            <button class="btn-primary" id="start-navigation" data-action="start-navigation">ê¸¸ì°¾ê¸° ì‹œì‘</button>
                            <button class="btn-secondary" id="change-destination" data-action="change-destination">ë³€ê²½</button>
                        </div>
                    </div>
                </div>

                <!-- ì˜¤ëŠ˜ì˜ ì¶”ì²œ ì¹´ë“œ -->
                <div class="card dashboard-card recommendations">
                    <div class="card-header">
                        <h3>âœ¨ ì˜¤ëŠ˜ì˜ ì¶”ì²œ</h3>
                        <button id="refresh-recommendations" class="btn-ghost btn-icon">
                            <svg class="icon"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="m3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg>
                        </button>
                    </div>
                    <div class="recommendations-list" id="recommendations-list">
                        <div class="recommendation-item">
                            <div class="rec-icon">ğŸŒ…</div>
                            <div class="rec-content">
                                <h5>ì¼ì¶œ ê°ìƒ</h5>
                                <p>ì´ë¼ë¶€ ëŒ€êµì—ì„œ 6:30 ì¼ì¶œ</p>
                            </div>
                            <span class="rec-distance">2.3km</span>
                        </div>
                    </div>
                </div>

                <!-- ë¹ ë¥¸ ì•¡ì…˜ ì¹´ë“œ -->
                <div class="card dashboard-card quick-actions">
                    <div class="card-header">
                        <h3>ğŸš€ ë¹ ë¥¸ ì•¡ì…˜</h3>
                    </div>
                    <div class="action-buttons">
                        <button class="btn-primary" id="add-expense" data-action="add-expense">
                            <svg class="icon"><path d="M12 1v22m5-18H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg>
                            ì§€ì¶œ ì¶”ê°€
                        </button>
                        <button class="btn-secondary" id="scan-receipt" data-action="scan-receipt">
                            <svg class="icon"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21,15 16,10 5,21"></polyline></svg>
                            ì˜ìˆ˜ì¦ ìŠ¤ìº”
                        </button>
                        <button class="btn-secondary" id="nearby-pois" data-action="nearby-pois">
                            <svg class="icon"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>
                            ì£¼ë³€ ì¥ì†Œ
                        </button>
                        <button class="btn-ghost" id="emergency-help" data-action="emergency-help">
                            <svg class="icon"><path d="m13 2-2 2.5h-4l2 2.5-2 2.5h4l2 2.5 2-2.5h4l-2-2.5 2-2.5h-4l-2-2.5z"></path></svg>
                            ë„ì›€ë§
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- ì˜ˆì‚° ì„¹ì…˜ -->
        <section id="budget-section" class="section">
            <div class="section-header">
                <h2>ğŸ’° ì˜ˆì‚° ê´€ë¦¬</h2>
                <div class="section-actions">
                    <button class="btn-primary" id="add-expense-btn">ì§€ì¶œ ì¶”ê°€</button>
                    <button class="btn-secondary" id="export-budget">ë‚´ë³´ë‚´ê¸°</button>
                </div>
            </div>

            <div class="budget-content">
                <!-- ì‹¤ì œ ì˜ˆì‚° ì •ë³´ -->
                <div class="real-budget-info" id="real-budget-info">
                    <div class="loading-message">ì‹¤ì œ ì˜ˆì‚° ë°ì´í„°ë¥¼ ë¡œë”© ì¤‘...</div>
                </div>

                <!-- í™•ì •ëœ í™œë™ ì •ë³´ -->
                <div class="confirmed-activities" id="confirmed-activities">
                    <div class="loading-message">í™•ì •ëœ í™œë™ ì •ë³´ë¥¼ ë¡œë”© ì¤‘...</div>
                </div>

                <!-- ì˜ˆì‚° ì°¨íŠ¸ -->
                <div class="budget-chart-container">
                    <canvas id="budget-chart" width="400" height="200"></canvas>
                </div>

                <!-- ì¹´í…Œê³ ë¦¬ë³„ ì˜ˆì‚° -->
                <div class="budget-categories" id="budget-categories">
                    <!-- ë™ì ìœ¼ë¡œ ìƒì„± -->
                </div>

                <!-- ìµœê·¼ ì§€ì¶œ ë‚´ì—­ -->
                <div class="recent-expenses">
                    <h3>ìµœê·¼ ì§€ì¶œ</h3>
                    <div class="expense-list" id="expense-list">
                        <!-- ë™ì ìœ¼ë¡œ ìƒì„± -->
                    </div>
                </div>
            </div>
        </section>

        <!-- ì¼ì • ì„¹ì…˜ -->
        <section id="itinerary-section" class="section">
            <div class="section-header">
                <h2>ğŸ“… ì¼ì • ê´€ë¦¬</h2>
                <div class="date-selector">
                    <button class="btn-primary date-btn active" data-date="2025-09-27">27ì¼</button>
                    <button class="btn-secondary date-btn" data-date="2025-09-28">28ì¼</button>
                    <button class="btn-secondary date-btn" data-date="2025-09-29">29ì¼</button>
                    <button class="btn-secondary date-btn" data-date="2025-09-30">30ì¼</button>
                    <button class="btn-secondary date-btn" data-date="2025-10-01">01ì¼</button>
                </div>
            </div>

            <div class="itinerary-content">
                <div class="timeline" id="itinerary-timeline">
                    <!-- ë™ì ìœ¼ë¡œ ìƒì„± -->
                </div>
            </div>
        </section>

        <!-- POI ì„¹ì…˜ -->
        <section id="poi-section" class="section">
            <div class="section-header">
                <h2>ğŸ—ºï¸ ì¥ì†Œ íƒìƒ‰</h2>
                <div class="search-filters">
                    <div class="filter-row">
                        <input type="search" id="poi-search" placeholder="ì¥ì†Œ ê²€ìƒ‰..." class="search-input">
                        <button id="poi-search-btn" class="btn-primary btn-icon">
                            <svg class="icon"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.35-4.35"></path></svg>
                        </button>
                    </div>
                    <div class="filter-row">
                        <select id="category-filter" class="filter-select">
                            <option value="all">ì „ì²´ ì¹´í…Œê³ ë¦¬</option>
                            <option value="nature">ìì—° ê²½ê´€</option>
                            <option value="beaches">í•´ë³€</option>
                            <option value="activities">ì•¡í‹°ë¹„í‹°</option>
                            <option value="restaurants">ìŒì‹ì </option>
                            <option value="culture">ë¬¸í™”</option>
                            <option value="shopping">ì‡¼í•‘</option>
                        </select>
                        <select id="sort-filter" class="filter-select">
                            <option value="default">ê¸°ë³¸ ì •ë ¬</option>
                            <option value="name">ì´ë¦„ìˆœ</option>
                            <option value="distance">ê±°ë¦¬ìˆœ</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="poi-content">
                <div class="poi-map" id="poi-map">
                    <!-- ì§€ë„ê°€ ì—¬ê¸°ì— ë¡œë“œë©ë‹ˆë‹¤ -->
                </div>
                <div class="poi-list" id="poi-list">
                    <!-- ë™ì ìœ¼ë¡œ ìƒì„± -->
                </div>
            </div>
        </section>
    </main>

    <!-- í”Œë¡œíŒ… ì•¡ì…˜ ë²„íŠ¼ -->
    <div class="fab-container">
        <button class="fab-main btn-primary" id="fab-main" aria-label="ë¹ ë¥¸ ì•¡ì…˜ ë©”ë‰´">
            <svg class="icon"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
        </button>
        <div class="fab-menu" id="fab-menu" role="menu">
            <button class="fab-item" data-action="expense" aria-label="ì§€ì¶œ ì¶”ê°€">ğŸ’°</button>
            <button class="fab-item" data-action="camera" aria-label="ì¹´ë©”ë¼">ğŸ“¸</button>
            <button class="fab-item" data-action="location" aria-label="ìœ„ì¹˜ í™•ì¸">ğŸ“</button>
            <button class="fab-item" data-action="note" aria-label="ë©”ëª¨ ì‘ì„±">ğŸ“</button>
        </div>
    </div>

    <!-- ëª¨ë‹¬ë“¤ -->

    <!-- ì§€ì¶œ ì¶”ê°€ ëª¨ë‹¬ -->
    <div id="expense-modal" class="modal" aria-labelledby="modal-title" aria-describedby="modal-description">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">ì§€ì¶œ ì¶”ê°€</h3>
                <button class="modal-close" aria-label="ëª¨ë‹¬ ë‹«ê¸°">&times;</button>
            </div>
            <form id="expense-form">
                <div class="form-group">
                    <label for="expense-amount">ê¸ˆì•¡ (JPY)</label>
                    <input type="number" id="expense-amount" required>
                </div>
                <div class="form-group">
                    <label for="expense-category">ì¹´í…Œê³ ë¦¬</label>
                    <select id="expense-category" required>
                        <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                        <option value="meals">ì‹ë¹„</option>
                        <option value="transportation">êµí†µ</option>
                        <option value="activities">ì•¡í‹°ë¹„í‹°</option>
                        <option value="shopping">ì‡¼í•‘</option>
                        <option value="other">ê¸°íƒ€</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="expense-description">ì„¤ëª…</label>
                    <input type="text" id="expense-description" placeholder="ì„ íƒì‚¬í•­">
                </div>
                <div class="form-group">
                    <label for="expense-location">ì¥ì†Œ</label>
                    <input type="text" id="expense-location" placeholder="í˜„ì¬ ìœ„ì¹˜ ì‚¬ìš©" readonly>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-secondary" id="cancel-expense">ì·¨ì†Œ</button>
                    <button type="submit" class="btn-primary" data-action="submit-expense">ì¶”ê°€</button>
                </div>
            </form>
        </div>
    </div>

    <!-- ì•Œë¦¼ í† ìŠ¤íŠ¸ -->
    <div id="toast-container" class="toast-container">
        <!-- ë™ì ìœ¼ë¡œ ìƒì„± -->
    </div>

    <!-- ì˜¤í”„ë¼ì¸ í‘œì‹œ -->
    <div id="offline-indicator" class="offline-indicator">
        <span>ì˜¤í”„ë¼ì¸ ëª¨ë“œ</span>
        <svg class="icon"><circle cx="12" cy="12" r="2"></circle><path d="m4.93 4.93 14.14 14.14"></path></svg>
    </div>

    <!-- Google Maps ì½œë°± í•¨ìˆ˜ ë¨¼ì € ì •ì˜ -->
    <script>
        window.initGoogleMaps = function() {
            console.log('ğŸ—ºï¸ Google Maps API ë¡œë“œ ì™„ë£Œ');
            // Appì´ ë¡œë“œëœ í›„ GoogleMapsManager í™œì„±í™”
            if (window.app && window.app.googleMapsManager) {
                window.app.googleMapsManager.initialize();
            } else {
                // Appì´ ì•„ì§ ë¡œë“œë˜ì§€ ì•Šì•˜ìœ¼ë©´ ëŒ€ê¸°
                setTimeout(() => {
                    if (window.app && window.app.googleMapsManager) {
                        window.app.googleMapsManager.initialize();
                    }
                }, 1000);
            }
        };
    </script>

    <!-- Google Maps JavaScript API -->
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB4vV_c6bHMk0CZUSZe58paVa41MGzP4sY&libraries=places,geometry&callback=initGoogleMaps">
    </script>

    <!-- ğŸï¸ Miyako UI System -->
    <script type="module" src="js/performance-monitor.js"></script>
    <script type="module" src="js/ui-components.js"></script>
    <script type="module" src="js/header-navigation.js"></script>
    <script type="module" src="js/tab-navigation.js"></script>
    <script type="module" src="js/main.js"></script>
</body>
</html>