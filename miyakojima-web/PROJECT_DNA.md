# 🏝️ 미야코지마 웹 플랫폼 - PROJECT DNA

## 🎯 프로젝트 핵심 정보 (2025-09-16)

### **프로젝트 기본 정보**
- **프로젝트명**: miyakojima-web
- **목적**: 여자친구를 위한 완벽한 미야코지마 여행 앱
- **기술 스택**: Vanilla HTML/CSS/JavaScript (React 미사용)
- **현재 버전**: v2.3.0-Complete
- **시작일**: 2025-09-15
- **여행 예정일**: 2025-09-27 (D-11)

### **🚨 사용자 절대 요구사항**
1. **누구보다 사랑하는 여자친구를 위한** 편하고 쉽고 최고의 미야코지마 여행 앱
2. **실제 여행에서 진짜 도움되는** 기능들만 구현
3. **모든 디바이스 완벽 대응** - PC/모바일/태블릿/폴드
4. **구글맵 연동 강화** - 여자친구 공유 구글맵 데이터 연동
5. **구글시트 연동 활용** - 실시간 데이터 동기화
6. **D-Day 카운터** - 2025년 9월 27일까지 남은 날수

## 📊 기술 아키텍처

### **핵심 API 통합 현황**
| API | 상태 | 키/ID | 적용 위치 | 사용 목적 |
|-----|------|-------|-----------|----------|
| **Google Maps** | 🚀**활성화** | `AIzaSyB4vV_c6bHMk0CZUSZe58paVa41MGzP4sY` | index.html + main.js | 지도, 길찾기, POI |
| **Google Sheets** | 🚀**활성화** | `1VvRRQKvE6FksGc3Vj4DLLlYB1_d7YqSsQ-xgAhmwZ1g` | backend/google-apps-script.js | 데이터 관리 |
| **OpenWeather** | 🚀**활성화** | `62c85ff5eff6e712643db50c03ec5beb` | js/config.js | 5일 날씨 예보 |
| **Service Account** | 🛡️**준비** | poi-sync-service@miyakojima-poi-sync | CHECK/json | 구글 클라우드 |

### **파일 구조**
```
miyakojima-web/
├── index.html                  # 메인 앱 (Shadcn UI 적용)
├── js/
│   ├── config.js              # API 키 및 설정
│   ├── main.js                # 핵심 앱 로직
│   ├── dashboard.js           # 대시보드 모듈
│   └── utils.js               # 유틸리티 함수들
├── css/
│   ├── main.css               # 메인 스타일 (정리 필요)
│   ├── animations.css         # 애니메이션
│   └── mobile.css             # 모바일 대응
├── components/ui/             # Shadcn UI 바닐라 변환 (완성)
│   ├── button.js              # 11개 UI 컴포넌트
│   ├── styles.css             # 통합 스타일 시트
│   └── index.js               # 통합 임포트
└── data/
    └── pois.json              # POI 데이터
```

## 🔍 현재 진행 상황 (정확한 분석)

### **1단계: 공통요소 구현 - 67% 완료**
| 작업 | 상태 | 완료도 | 비고 |
|------|------|--------|------|
| Shadcn UI CSS 연결 | ✅ | 100% | index.html 연결 완료 |
| 헤더 버튼 Shadcn 교체 | ✅ | 100% | 날씨 확장 버튼 등 |
| 네비게이션 버튼 통일 | ✅ | 100% | nav-btn Shadcn 적용 |
| 액션 버튼 교체 | ✅ | 100% | 4개 action-btn 교체 |
| 태블릿/모바일 테스트 | ❌ | 0% | **반드시 필요** |
| CSS 정리 최적화 | ❌ | 0% | .action-btn 제거 필요 |

### **🚨 발견된 치명적 오류들**
1. **앱 초기화 오류** - "Cannot read properties of undefined (reading 'initialize')"
2. **URL 라우팅 새로고침 문제** - 장소 페이지 새로고침 시 앱 크래시
3. **Google Maps API 도메인 오류** - RefererNotAllowedMapError
4. **Google Maps API 2025 Deprecated 경고** - 미래 호환성 문제

### **🎯 UI/UX 개선 필요 영역**
1. **날씨 카드 UI** - CSS 1,740줄 중 600줄(35%) 차지, 전면 재설계 필요
2. **헤더 영역** - 모바일에서 뷰포트 45-60% 점유
3. **일정/예산탭** - 데이터는 출력되지만 UI 읽기 어려움
4. **전체 디자인 시스템** - 컴포넌트별 스타일 중복, 색상/폰트 체계 불일치

## 🏗️ 개발 방향성

### **점진적 탭별 구현 순서**
1. **🎯 공통요소** (67% 완료) - 헤더 버튼, CSS 연결, 기본 설정
2. **💰 예산탭** - 지출 관리, 구글시트 연동, 예산 현황
3. **📍 장소탭** - POI 관리, 필터링, 검색 기능
4. **📅 일정탭** - 스케줄 관리, 날짜 시간 관리
5. **🌤️ 날씨탭** (신규) - 상세 날씨 정보, 5일 예보
6. **🏠 숙소탭** (신규) - 숙소 관련 정보 관리
7. **🏠 대시보드** (최종) - 전체 데이터 통합, 실시간 현황

### **개발 원칙**
- 📱 **라이트 테마만** 사용 (현재 색감 유지)
- 🧹 **단계별 완료 후 코드 정리** 필수
- 🧪 **멀티 디바이스 테스트** 각 단계마다 수행
- 💬 **사용자 승인 후 진행** (체크리스트 → 허가 → 구현)

## 🔧 MCP 도구 활용 전략

### **이 프로젝트에 최적화된 MCP 조합**
1. **Context7**: 기술 문서 조회, 베스트 프랙티스
2. **Sequential**: 복잡한 분석, 체계적 문제 해결
3. **Playwright**: 브라우저 테스트, UI 검증
4. **Morphllm**: 패턴 기반 대량 편집 (CSS 정리 시)

### **프로젝트별 특수 고려사항**
- **바닐라 JS 프로젝트** - React 기반 라이브러리 직접 사용 불가
- **모바일 우선** - 모든 기능이 모바일에서 완벽 작동해야 함
- **실시간 데이터** - 날씨, 구글시트 연동으로 데이터 동기화
- **오프라인 대응** - 인터넷 연결 불안정 시에도 기본 기능 유지

## 📋 품질 기준

### **완료 조건**
1. **기능 구현 완료** - 요청된 모든 기능 작동
2. **브라우저 테스트 통과** - Chrome, Safari, Firefox
3. **실제 사용 가능 수준** - 여행 중 실제 활용 가능
4. **사용자 요구사항 만족** - 여자친구가 쉽게 사용 가능

### **테스트 체크리스트**
- [ ] PC/모바일/태블릿 모든 디바이스 완벽 작동
- [ ] 모든 API 연동 정상 작동 (날씨, 지도, 시트)
- [ ] 오프라인 상황에서 기본 기능 유지
- [ ] 터치 인터페이스 완벽 대응
- [ ] 로딩 시간 3초 이내
- [ ] 모든 버튼과 링크 정상 작동

## 🚀 확장 비전

### **다른 프로젝트 적용 가능성**
이 미야코지마 웹에서 완성된 시스템은 다음 프로젝트들에 즉시 적용 가능:
- 투자도구 프로젝트
- 임베디드 프로젝트
- AI 앱 프로젝트
- 기타 모든 웹 프로젝트

### **확장 핵심 요소들**
1. **SESSION_STATE.md** - 프로젝트별 상태 추적
2. **PROJECT_DNA.md** - 프로젝트 특화 정보 (이 파일)
3. **MCP_MATRIX.md** - 상황별 도구 자동 선택
4. **RECOVERY_GUIDE.md** - 30초 복원 시스템

---

## 🎯 즉시 실행 작업 (2025-09-16)

### **S급 최우선**
1. **앱 초기화 오류 해결** - 핵심 기능 정상화
2. **CSS 정리** - .action-btn 관련 스타일 제거
3. **반응형 테스트** - 모든 디바이스에서 Shadcn 버튼 동작 확인

### **A급 긴급**
1. **나머지 60% auto-compact 시스템 구축**
2. **Google Maps API 도메인 설정**
3. **UI/UX 전면 개선** (날씨 카드, 헤더, 탭들)

**목표**: 2025-09-27 여행 전까지 완벽한 앱 완성 ✈️