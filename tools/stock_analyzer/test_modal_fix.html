<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modal Fix Testing - Stock Analyzer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .test-case {
            border-left: 4px solid #3b82f6;
            transition: all 0.3s;
        }
        .test-case:hover {
            border-left-color: #1e40af;
            transform: translateX(4px);
        }
        .pass { border-left-color: #22c55e !important; }
        .fail { border-left-color: #ef4444 !important; }
    </style>
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-4xl mx-auto">
        <div class="bg-white rounded-lg shadow-lg p-8 mb-6">
            <h1 class="text-3xl font-bold text-gray-900 mb-2">
                <i class="fas fa-vial text-blue-600 mr-2"></i>
                Modal Blocking Fix - Test Suite
            </h1>
            <p class="text-gray-600 mb-4">
                ì´ í˜ì´ì§€ë¡œ ëª¨ë‹¬ ì°¨ë‹¨ ë¬¸ì œ ìˆ˜ì •ì„ í…ŒìŠ¤íŠ¸í•˜ì„¸ìš”.
            </p>
            <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                <p class="text-sm text-blue-800">
                    <i class="fas fa-info-circle mr-2"></i>
                    <strong>í…ŒìŠ¤íŠ¸ ë°©ë²•:</strong> ê° ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ìˆ˜ì •ì‚¬í•­ì´ ì œëŒ€ë¡œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.
                </p>
            </div>
        </div>

        <!-- Test Cases -->
        <div class="space-y-4">
            <!-- Test 1: Error Banner (Non-Blocking) -->
            <div class="test-case bg-white rounded-lg shadow p-6">
                <div class="flex items-start justify-between mb-4">
                    <div>
                        <h3 class="text-lg font-bold text-gray-900 mb-1">
                            Test 1: ë…¼ë¸”ë¡œí‚¹ ì—ëŸ¬ ë°°ë„ˆ
                        </h3>
                        <p class="text-sm text-gray-600">
                            ì—ëŸ¬ ë°°ë„ˆê°€ ìƒë‹¨ì— í‘œì‹œë˜ê³ , ì•„ë˜ ë²„íŠ¼ë“¤ì„ í´ë¦­í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
                        </p>
                    </div>
                    <span id="test1-status" class="text-gray-400">
                        <i class="fas fa-clock"></i>
                    </span>
                </div>
                <button id="test1-trigger" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors">
                    <i class="fas fa-exclamation-triangle mr-2"></i>ì—ëŸ¬ ë°°ë„ˆ í‘œì‹œ
                </button>
                <div class="mt-4 flex gap-2">
                    <button class="test-button px-3 py-1 bg-gray-200 rounded hover:bg-gray-300 transition-colors">
                        í´ë¦­ ê°€ëŠ¥ í…ŒìŠ¤íŠ¸ 1
                    </button>
                    <button class="test-button px-3 py-1 bg-gray-200 rounded hover:bg-gray-300 transition-colors">
                        í´ë¦­ ê°€ëŠ¥ í…ŒìŠ¤íŠ¸ 2
                    </button>
                    <button class="test-button px-3 py-1 bg-gray-200 rounded hover:bg-gray-300 transition-colors">
                        í´ë¦­ ê°€ëŠ¥ í…ŒìŠ¤íŠ¸ 3
                    </button>
                </div>
                <p class="mt-2 text-xs text-gray-500">
                    âœ… Pass: ì—ëŸ¬ ë°°ë„ˆê°€ í‘œì‹œë˜ê³  ìœ„ ë²„íŠ¼ë“¤ì„ í´ë¦­í•  ìˆ˜ ìˆìŒ<br>
                    âŒ Fail: ì—ëŸ¬ ë°°ë„ˆê°€ ì „ì²´ í™”ë©´ì„ ë®ê±°ë‚˜ ë²„íŠ¼ì„ í´ë¦­í•  ìˆ˜ ì—†ìŒ
                </p>
            </div>

            <!-- Test 2: Tab Navigation -->
            <div class="test-case bg-white rounded-lg shadow p-6">
                <div class="flex items-start justify-between mb-4">
                    <div>
                        <h3 class="text-lg font-bold text-gray-900 mb-1">
                            Test 2: íƒ­ ë„¤ë¹„ê²Œì´ì…˜
                        </h3>
                        <p class="text-sm text-gray-600">
                            ì—ëŸ¬ ìƒíƒœì—ì„œë„ íƒ­ì„ ì „í™˜í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
                        </p>
                    </div>
                    <span id="test2-status" class="text-gray-400">
                        <i class="fas fa-clock"></i>
                    </span>
                </div>
                <div class="border-b border-gray-200 mb-4">
                    <nav class="-mb-px flex space-x-8">
                        <button id="test-tab-1" class="test-tab-button active py-2 px-1 border-b-2 border-blue-500 font-medium text-sm text-blue-600">
                            íƒ­ 1
                        </button>
                        <button id="test-tab-2" class="test-tab-button py-2 px-1 border-b-2 border-transparent font-medium text-sm text-gray-500 hover:text-gray-700 hover:border-gray-300">
                            íƒ­ 2
                        </button>
                        <button id="test-tab-3" class="test-tab-button py-2 px-1 border-b-2 border-transparent font-medium text-sm text-gray-500 hover:text-gray-700 hover:border-gray-300">
                            íƒ­ 3
                        </button>
                    </nav>
                </div>
                <div id="test-tab-content" class="p-4 bg-gray-50 rounded">
                    <p class="text-sm text-gray-700">íƒ­ 1 ë‚´ìš©</p>
                </div>
                <p class="mt-2 text-xs text-gray-500">
                    âœ… Pass: ì—ëŸ¬ ë°°ë„ˆê°€ ìˆì–´ë„ íƒ­ ì „í™˜ì´ ê°€ëŠ¥í•¨<br>
                    âŒ Fail: íƒ­ì„ í´ë¦­í•  ìˆ˜ ì—†ìŒ
                </p>
            </div>

            <!-- Test 3: Auto-Dismiss -->
            <div class="test-case bg-white rounded-lg shadow p-6">
                <div class="flex items-start justify-between mb-4">
                    <div>
                        <h3 class="text-lg font-bold text-gray-900 mb-1">
                            Test 3: ìë™ ë‹«ê¸°
                        </h3>
                        <p class="text-sm text-gray-600">
                            ì—ëŸ¬ ë°°ë„ˆê°€ 10ì´ˆ í›„ ìë™ìœ¼ë¡œ ë‹«í˜€ì•¼ í•©ë‹ˆë‹¤.
                        </p>
                    </div>
                    <span id="test3-status" class="text-gray-400">
                        <i class="fas fa-clock"></i>
                    </span>
                </div>
                <button id="test3-trigger" class="px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors">
                    <i class="fas fa-stopwatch mr-2"></i>10ì´ˆ ì¹´ìš´íŠ¸ë‹¤ìš´ ì‹œì‘
                </button>
                <div id="test3-timer" class="mt-4 hidden">
                    <div class="flex items-center gap-3">
                        <div class="text-4xl font-bold text-purple-600" id="countdown">10</div>
                        <div class="text-sm text-gray-600">
                            ì´ˆ í›„ ë°°ë„ˆ ìë™ ë‹«ê¸°
                        </div>
                    </div>
                </div>
                <p class="mt-2 text-xs text-gray-500">
                    âœ… Pass: 10ì´ˆ í›„ ë°°ë„ˆê°€ ìë™ìœ¼ë¡œ ì‚¬ë¼ì§<br>
                    âŒ Fail: ë°°ë„ˆê°€ ì‚¬ë¼ì§€ì§€ ì•Šê±°ë‚˜ ìˆ˜ë™ìœ¼ë¡œ ë‹«ì•„ì•¼ í•¨
                </p>
            </div>

            <!-- Test 4: Loading State -->
            <div class="test-case bg-white rounded-lg shadow p-6">
                <div class="flex items-start justify-between mb-4">
                    <div>
                        <h3 class="text-lg font-bold text-gray-900 mb-1">
                            Test 4: ë¡œë”© ìƒíƒœ UI
                        </h3>
                        <p class="text-sm text-gray-600">
                            ë°ì´í„° ì—†ì´ë„ ëŒ€ì‹œë³´ë“œê°€ ë¡œë”© ë©”ì‹œì§€ë¥¼ í‘œì‹œí•´ì•¼ í•©ë‹ˆë‹¤.
                        </p>
                    </div>
                    <span id="test4-status" class="text-gray-400">
                        <i class="fas fa-clock"></i>
                    </span>
                </div>
                <button id="test4-trigger" class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors">
                    <i class="fas fa-spinner mr-2"></i>ë¡œë”© ë©”ì‹œì§€ í‘œì‹œ
                </button>
                <div id="test4-result" class="mt-4 hidden">
                    <div class="bg-blue-50 border border-blue-200 rounded-lg p-8 text-center">
                        <div class="text-blue-500 text-5xl mb-4">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <h3 class="text-xl font-bold text-blue-900 mb-2">ëŒ€ì‹œë³´ë“œ ì¤€ë¹„ ì¤‘</h3>
                        <p class="text-blue-700 mb-4">ë°ì´í„°ë¥¼ ë¡œë”©í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.</p>
                        <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div>
                    </div>
                </div>
                <p class="mt-2 text-xs text-gray-500">
                    âœ… Pass: ë¡œë”© ë©”ì‹œì§€ì™€ ìŠ¤í”¼ë„ˆê°€ í‘œì‹œë¨<br>
                    âŒ Fail: ë¹ˆ í™”ë©´ ë˜ëŠ” ì—ëŸ¬ë§Œ í‘œì‹œë¨
                </p>
            </div>
        </div>

        <!-- Overall Status -->
        <div class="mt-8 bg-white rounded-lg shadow-lg p-8">
            <h2 class="text-2xl font-bold text-gray-900 mb-4">
                <i class="fas fa-clipboard-check text-green-600 mr-2"></i>
                í…ŒìŠ¤íŠ¸ ê²°ê³¼
            </h2>
            <div id="overall-status" class="space-y-2">
                <div class="flex items-center gap-3">
                    <span class="text-3xl">ğŸ“Š</span>
                    <span class="text-gray-700">í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ì—¬ ê²°ê³¼ë¥¼ í™•ì¸í•˜ì„¸ìš”.</span>
                </div>
            </div>
        </div>

        <!-- Instructions -->
        <div class="mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-6">
            <h3 class="text-lg font-bold text-yellow-900 mb-2">
                <i class="fas fa-lightbulb mr-2"></i>
                í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ
            </h3>
            <ol class="list-decimal list-inside space-y-1 text-sm text-yellow-800">
                <li>ê° í…ŒìŠ¤íŠ¸ ì„¹ì…˜ì˜ ë²„íŠ¼ì„ ìˆœì„œëŒ€ë¡œ í´ë¦­í•˜ì„¸ìš”.</li>
                <li>Pass/Fail ê¸°ì¤€ì— ë”°ë¼ ë™ì‘ì„ í™•ì¸í•˜ì„¸ìš”.</li>
                <li>ì—ëŸ¬ ë°°ë„ˆê°€ ë‚˜íƒ€ë‚˜ë©´ ë‹¤ë¥¸ ë²„íŠ¼ë“¤ì„ í´ë¦­í•´ë³´ì„¸ìš” (í´ë¦­ ê°€ëŠ¥í•´ì•¼ í•¨).</li>
                <li>Test 3ì—ì„œëŠ” 10ì´ˆ ë™ì•ˆ ê¸°ë‹¤ë ¸ë‹¤ê°€ ë°°ë„ˆê°€ ìë™ìœ¼ë¡œ ì‚¬ë¼ì§€ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.</li>
                <li>ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼ ì‹œ ì‹¤ì œ stock_analyzer.htmlì—ì„œë„ í™•ì¸í•˜ì„¸ìš”.</li>
            </ol>
        </div>
    </div>

    <script>
        // Test 1: Error Banner
        document.getElementById('test1-trigger').addEventListener('click', () => {
            showTestErrorBanner();
            document.getElementById('test1-status').innerHTML = '<i class="fas fa-check-circle text-green-600"></i>';
            document.querySelector('#test1-trigger').closest('.test-case').classList.add('pass');
        });

        // Test 2: Tab Navigation
        const tabButtons = document.querySelectorAll('.test-tab-button');
        const tabContents = ['íƒ­ 1 ë‚´ìš©', 'íƒ­ 2 ë‚´ìš©', 'íƒ­ 3 ë‚´ìš©'];

        tabButtons.forEach((button, index) => {
            button.addEventListener('click', () => {
                tabButtons.forEach(btn => {
                    btn.classList.remove('active', 'text-blue-600', 'border-blue-500');
                    btn.classList.add('text-gray-500', 'border-transparent');
                });
                button.classList.add('active', 'text-blue-600', 'border-blue-500');
                button.classList.remove('text-gray-500', 'border-transparent');

                document.getElementById('test-tab-content').innerHTML =
                    `<p class="text-sm text-gray-700">${tabContents[index]}</p>`;

                document.getElementById('test2-status').innerHTML = '<i class="fas fa-check-circle text-green-600"></i>';
                document.querySelector('#test-tab-1').closest('.test-case').classList.add('pass');
            });
        });

        // Test 3: Auto-Dismiss
        document.getElementById('test3-trigger').addEventListener('click', () => {
            const timer = document.getElementById('test3-timer');
            const countdown = document.getElementById('countdown');
            timer.classList.remove('hidden');

            let seconds = 10;
            const interval = setInterval(() => {
                seconds--;
                countdown.textContent = seconds;

                if (seconds === 0) {
                    clearInterval(interval);
                    timer.classList.add('hidden');
                    document.getElementById('test3-status').innerHTML = '<i class="fas fa-check-circle text-green-600"></i>';
                    document.querySelector('#test3-trigger').closest('.test-case').classList.add('pass');

                    // Remove error banner if exists
                    const banner = document.getElementById('error-banner');
                    if (banner) {
                        banner.style.transform = 'translateY(-100%)';
                        setTimeout(() => banner.remove(), 300);
                    }
                }
            }, 1000);

            showTestErrorBanner();
        });

        // Test 4: Loading State
        document.getElementById('test4-trigger').addEventListener('click', () => {
            const result = document.getElementById('test4-result');
            result.classList.remove('hidden');
            document.getElementById('test4-status').innerHTML = '<i class="fas fa-check-circle text-green-600"></i>';
            document.querySelector('#test4-trigger').closest('.test-case').classList.add('pass');
        });

        // Helper: Show test error banner
        function showTestErrorBanner() {
            const existingBanner = document.getElementById('error-banner');
            if (existingBanner) existingBanner.remove();

            const banner = document.createElement('div');
            banner.id = 'error-banner';
            banner.className = 'fixed top-0 left-0 right-0 bg-red-50 border-b-2 border-red-500 shadow-lg z-40 transform -translate-y-full transition-transform duration-300';
            banner.innerHTML = `
                <div class="max-w-7xl mx-auto px-4 py-3">
                    <div class="flex items-center justify-between flex-wrap gap-4">
                        <div class="flex items-center gap-3">
                            <div class="text-red-500 text-2xl">
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                            <div>
                                <h3 class="text-sm font-bold text-red-900">í…ŒìŠ¤íŠ¸ ì—ëŸ¬ ë°°ë„ˆ</h3>
                                <p class="text-xs text-red-700">ì´ ë°°ë„ˆê°€ ë³´ì´ëŠ” ë™ì•ˆ ì•„ë˜ ë²„íŠ¼ë“¤ì„ í´ë¦­í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.</p>
                            </div>
                        </div>
                        <button onclick="document.getElementById('error-banner').remove()" class="px-3 py-1 bg-gray-500 text-white text-sm rounded hover:bg-gray-600 transition-colors">
                            <i class="fas fa-times mr-1"></i>ë‹«ê¸°
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(banner);
            setTimeout(() => banner.style.transform = 'translateY(0)', 10);
        }

        // Test buttons
        document.querySelectorAll('.test-button').forEach(button => {
            button.addEventListener('click', () => {
                button.classList.add('bg-green-200');
                button.innerHTML = '<i class="fas fa-check mr-1"></i>' + button.textContent.trim();
                setTimeout(() => {
                    button.classList.remove('bg-green-200');
                }, 1000);
            });
        });
    </script>
</body>
</html>
